# Blasnake æ•µä»•æ§˜æ›¸

## æ¦‚è¦

Blasnake ã‚²ãƒ¼ãƒ ã® 10 ç¨®é¡ã®æ•µã‚¿ã‚¤ãƒ—ã®è©³ç´°ä»•æ§˜ã€‚

## è¨­è¨ˆç†å¿µ

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹é‡è¦–

- **æ˜ç¢ºãªå­¦ç¿’æ›²ç·š**: å„æ•µã‚¿ã‚¤ãƒ—ãŒæ®µéšçš„ã«ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ã‚­ãƒ«ã‚’å‘ä¸Šã•ã›ã‚‹
- **ç›´æ„Ÿçš„ãªç†è§£**: è¦–è¦šçš„ãƒ»è¡Œå‹•çš„ç‰¹å¾´ã‹ã‚‰æ•µã®æ€§è³ªã‚’å³åº§ã«æŠŠæ¡å¯èƒ½
- **æˆ¦ç•¥çš„æ·±åº¦**: å„æ•µã¸ã®å¯¾ç­–ãŒè¤‡æ•°å­˜åœ¨ã—ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‰µé€ æ€§ã‚’ä¿ƒé€²

### ãƒªã‚¹ã‚¯ãƒ»ãƒªãƒ¯ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚¹

- **é›£æ˜“åº¦ã¨å ±é…¬ã®ç›¸é–¢**: å€’ã™ã®ãŒå›°é›£ãªæ•µã»ã©é«˜å¾—ç‚¹
- **æˆ¦ç•¥çš„ä¾¡å€¤**: å˜ç´”ãªæ’ƒç ´ä»¥å¤–ã®ä¾¡å€¤ï¼ˆä½ç½®å–ã‚Šã€ã‚¿ã‚¤ãƒŸãƒ³ã‚°ç­‰ï¼‰ã‚’æä¾›
- **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸æŠ**: ç©æ¥µçš„æ”»ç•¥ vs å›é¿æˆ¦è¡“ã®é¸æŠè‚¢

## å‹å®šç¾©ã‚·ã‚¹ãƒ†ãƒ 

### åŸºåº•å‹å®šç¾©

```typescript
// åŸºæœ¬çš„ãªæ•µã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
interface BaseEnemy {
  id: string; // ãƒ¦ãƒ‹ãƒ¼ã‚¯ID
  x: number;
  y: number;
  direction: Direction;
  moveCounter: number;
  isBlinking: boolean;
  blinkDuration: number;
  maxBlinkDuration: number;
  type: EnemyType;
  baseScore: number;
  moveInterval: number;
  specialTimer: number;
  isDestroyed: boolean; // ç ´å£Šãƒ•ãƒ©ã‚°
  spawnTime: number; // å‡ºç¾æ™‚åˆ»
  threatLevel: ThreatLevel; // è„…å¨åº¦
  playerLearningHints: string[]; // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å‘ã‘ãƒ’ãƒ³ãƒˆ
}

// åˆ¤åˆ¥å¯èƒ½ãªå…±ç”¨ä½“å‹ã«ã‚ˆã‚‹æ•µã‚¿ã‚¤ãƒ—å®šç¾©
type Enemy =
  | WandererEnemy
  | GuardEnemy
  | ChaserEnemy
  | SplitterEnemy
  | SpeedsterEnemy
  | MimicEnemy
  | SnakeEnemy // å¤‰æ›´: BomberEnemy â†’ SnakeEnemy
  | WallCreeperEnemy
  | GhostEnemy
  | SwarmEnemy;

enum EnemyType {
  WANDERER = "wanderer",
  GUARD = "guard",
  CHASER = "chaser",
  SPLITTER = "splitter",
  SPEEDSTER = "speedster",
  MIMIC = "mimic",
  SNAKE = "snake", // å¤‰æ›´: BOMBER â†’ SNAKE
  WALL_CREEPER = "wall_creeper",
  GHOST = "ghost",
  SWARM = "swarm",
}

enum ThreatLevel {
  LOW = 1, // å­¦ç¿’ç”¨ãƒ»åŸºæœ¬æ•µ
  MEDIUM = 2, // æˆ¦è¡“çš„æŒ‘æˆ¦
  HIGH = 3, // é«˜åº¦ãªæˆ¦ç•¥è¦æ±‚
  EXTREME = 4, // æœ€é«˜é›£æ˜“åº¦
}

// è¨­å®šå¯èƒ½ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
interface EnemyConfig {
  readonly displayChar: string;
  readonly color: string;
  readonly baseScore: number;
  readonly moveInterval: number;
  readonly spawnWeight: number;
  readonly maxCount: number; // åŒæ™‚å‡ºç¾æœ€å¤§æ•°
  readonly threatLevel: ThreatLevel;
  readonly learningObjective: string; // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å­¦ç¿’ç›®æ¨™
  readonly counterStrategies: string[]; // å¯¾ç­–æ–¹æ³•
}
```

## 1. ãƒ¯ãƒ³ãƒ€ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—æ•µ (Wanderer Enemy) - ç¾åœ¨å®Ÿè£…æ¸ˆã¿

ãƒ©ãƒ³ãƒ€ãƒ ç§»å‹•ã™ã‚‹æ•µã‚¿ã‚¤ãƒ—ã€‚

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: ã‚¹ãƒãƒ¼ã‚¯ã®åŸºæœ¬æ“ä½œã¨å›²ã¿æˆ¦è¡“ã®ç¿’å¾—
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œã•ã¾ã‚ˆã†æ•µã‚’å›²ã‚“ã§ç ´å£Šã™ã‚‹ã€åŸºæœ¬çš„ãªé”æˆæ„Ÿ

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `W` (é€šå¸¸æ™‚), `o` (ç‚¹æ»…æ™‚)
- **è‰²**: `red` (é€šå¸¸æ™‚), `light_red` (ç‚¹æ»…æ™‚)
- **åŸºæœ¬ç‚¹æ•°**: 100 ç‚¹ (å›²ã¿çˆ†ç™ºæ™‚)
- **ç§»å‹•é€Ÿåº¦**: 96 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”
- **è„…å¨åº¦**: LOW (åŸºæœ¬æ•µ)

#### å‹å®šç¾©

```typescript
interface Enemy {
  x: number;
  y: number;
  direction: Direction;
  moveCounter: number;
  isBlinking: boolean;
  blinkDuration: number;
  maxBlinkDuration: number;
}

enum Direction {
  UP,
  DOWN,
  LEFT,
  RIGHT,
}
```

#### è¡Œå‹•ä»•æ§˜

- **ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³**: ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ï¼ˆ30%ã®ç¢ºç‡ã§æ–¹å‘è»¢æ›ï¼‰
- **ç§»å‹•é–“éš”**: 96 ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã«ç§»å‹•
- **è¡çªå›é¿**: å£ã€ã‚¹ãƒãƒ¼ã‚¯ã€ä»–ã®æ•µã¨ã®è¡çªã‚’å›é¿
- **ç‚¹æ»…çŠ¶æ…‹**: å‡ºç¾æ™‚ã« 2 ç§’é–“ç‚¹æ»…ï¼ˆé€šéå¯èƒ½çŠ¶æ…‹ï¼‰
- **ç ´å£Šæ¡ä»¶**: å›²ã¿çˆ†ç™ºã«ã‚ˆã£ã¦ã®ã¿ç ´å£Šå¯èƒ½

#### ã‚¹ãƒãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

- **åˆæœŸæ•°**: 5 ä½“
- **æœ€å°ç¶­æŒæ•°**: 3 ä½“
- **ã‚¹ãƒãƒ¼ãƒ³é–“éš”**:
  - é€šå¸¸æ™‚: 600 ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ10 ç§’ï¼‰
  - æ•µä¸è¶³æ™‚: 180 ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ3 ç§’ï¼‰
- **ã‚¹ãƒãƒ¼ãƒ³ä½ç½®**: ãƒ©ãƒ³ãƒ€ãƒ ï¼ˆæœ‰åŠ¹ä½ç½®ã®ã¿ï¼‰
- **æ–°è¦æ•µã®çŠ¶æ…‹**: 120 ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ2 ç§’ï¼‰ç‚¹æ»…

#### ç ´å£Šã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

å›²ã¿çˆ†ç™ºã§ç ´å£Šã•ã‚ŒãŸéš›ã«å°‚ç”¨ã®ç ´å£Šã‚¨ãƒ•ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š

```typescript
interface EnemyDestroyEffect {
  x: number;
  y: number;
  duration: number;
  maxDuration: number;
  effectType: "destroy" | "blast";
}
```

- **ã‚¨ãƒ•ã‚§ã‚¯ãƒˆæ–‡å­—**: `#` â†’ `%` â†’ `&` â†’ `~` â†’ `-`
- **è‰²å¤‰åŒ–**: `yellow` â†’ `yellow` â†’ `light_red` â†’ `red` â†’ `light_red`
- **æŒç¶šæ™‚é–“**: 60 ãƒ•ãƒ¬ãƒ¼ãƒ 

#### å›²ã¿çˆ†ç™ºã‚·ã‚¹ãƒ†ãƒ 

- **ç™ºå‹•æ¡ä»¶**:
  - ã‚¹ãƒãƒ¼ã‚¯ã®é•·ã•ãŒ 8 ä»¥ä¸Š
  - é ­éƒ¨ãŒå°»å°¾ã® 3 ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä»¥å†…ï¼ˆ2 ãƒã‚¹ä»¥å†…ï¼‰
  - å›²ã¾ã‚ŒãŸé ˜åŸŸãŒå…¨ä½“ã® 30%ä»¥ä¸‹
- **çˆ†ç™ºç¯„å›²**: å›²ã¾ã‚ŒãŸé ˜åŸŸå…¨ä½“
- **å¾—ç‚¹**: ç ´å£Šã•ã‚ŒãŸæ•µ 1 ä½“ã«ã¤ã åŸºæœ¬ç‚¹ã€è¤‡æ•°ã®æ•µã‚’å·»ãè¾¼ã‚€ã¨å€ç‡
- **ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ**:
  - é ˜åŸŸçˆ†ç™º: `*` â†’ `!` â†’ `+` â†’ `.`
  - æ•µç ´å£Š: `#` â†’ `%` â†’ `&` â†’ `~` â†’ `-`

#### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **åŸºæœ¬ç§»å‹•**: ã‚¹ãƒãƒ¼ã‚¯ã®åŸºæœ¬æ“ä½œ
- **å›²ã¿æˆ¦è¡“**: æ•µã‚’å›²ã‚“ã§ç ´å£Šã™ã‚‹åŸºæœ¬æˆ¦ç•¥
- **ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å›²ã¿çˆ†ç™ºã®ç™ºå‹•ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- **ç©ºé–“èªè­˜**: é ˜åŸŸã®å¤§ãã•ã¨å½¢çŠ¶ã®æŠŠæ¡

#### è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

```typescript
const WANDERER_ENEMY_CONFIG = {
  displayChar: "X",
  blinkingChar: "o",
  color: "red",
  blinkingColor: "light_red",
  moveInterval: 96,
  directionChangeChance: 0.3,
  initialCount: 5,
  minCount: 3,
  spawnInterval: 600,
  fastSpawnInterval: 180,
  blinkDuration: 120,
  destroyScore: 100,
};
```

---

## 2. ã‚¬ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—æ•µ (Guard Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: é£Ÿã¹ç‰©ã®æˆ¦ç•¥çš„ä¾¡å€¤ã¨ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã®ç†è§£
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œå®ˆã‚‰ã‚ŒãŸå®ã‚’å¥ªã†ã€é”æˆæ„Ÿ

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `G`
- **è‰²**: `yellow` (é€šå¸¸æ™‚), `light_red` (è­¦æˆ’æ™‚)
- **åŸºæœ¬ç‚¹æ•°**: 120 ç‚¹ (èª¿æ•´: ãƒªã‚¹ã‚¯ã«è¦‹åˆã£ãŸå ±é…¬)
- **ç§»å‹•é€Ÿåº¦**: é€šå¸¸ã® 1.5 å€é…ã„ (144 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: LOW (å­¦ç¿’ç”¨)

### å‹å®šç¾©

```typescript
interface GuardEnemy extends BaseEnemy {
  type: EnemyType.GUARD;
  guardTarget: Position | null; // å®ˆã£ã¦ã„ã‚‹é£Ÿã¹ç‰©ã®ä½ç½®
  patrolRadius: number; // å·¡å›åŠå¾„
  patrolAngle: number; // ç¾åœ¨ã®å·¡å›è§’åº¦
  returnToFoodTimer: number; // é£Ÿã¹ç‰©ã«æˆ»ã‚‹ã‚¿ã‚¤ãƒãƒ¼
  alertLevel: number; // è­¦æˆ’ãƒ¬ãƒ™ãƒ« (ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ¥è¿‘æ™‚)
}

const GUARD_CONFIG: EnemyConfig = {
  displayChar: "G",
  color: "yellow",
  alertColor: "light_red",
  baseScore: 120,
  moveInterval: 144,
  spawnWeight: 30,
  maxCount: 2,
  threatLevel: ThreatLevel.LOW,
  learningObjective: "é£Ÿã¹ç‰©ã®æˆ¦ç•¥çš„ä¾¡å€¤ã‚’ç†è§£ã—ã€ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã‚’å­¦ã¶",
  counterStrategies: [
    "ã‚¬ãƒ¼ãƒ‰ã‹ã‚‰é›¢ã‚ŒãŸé£Ÿã¹ç‰©ã‚’å„ªå…ˆçš„ã«å–ã‚‹",
    "ã‚¬ãƒ¼ãƒ‰ãŒå·¡å›ã§é›¢ã‚ŒãŸéš™ã‚’ç‹™ã†",
    "ã‚¬ãƒ¼ãƒ‰ã‚’å›²ã‚“ã§æ’ƒç ´å¾Œã«é£Ÿã¹ç‰©ã‚’å®‰å…¨ã«å–ã‚‹",
  ],
};

const GUARD_BEHAVIOR_CONFIG = {
  patrolRadius: 2, // å·¡å›åŠå¾„ï¼ˆã‚ˆã‚Šå¯†æ¥ãªå®ˆè­·ï¼‰
  maxDistanceFromFood: 3, // æœ€å¤§è·é›¢ï¼ˆã‚ˆã‚Šå³æ ¼ãªå®ˆè­·ï¼‰
  returnTimeout: 120, // 2ç§’ï¼ˆã‚ˆã‚Šæ—©ãåå¿œï¼‰
  searchRadius: 8, // é£Ÿã¹ç‰©æ¤œç´¢ç¯„å›²
  alertRadius: 3, // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è­¦æˆ’ç¯„å›²
  rushSpeedMultiplier: 6.0, // é£Ÿã¹ç‰©ã«æˆ»ã‚‹æ™‚ã®é€Ÿåº¦å€ç‡
};
```

### è¡Œå‹•ä»•æ§˜

- **å‡ºç¾**: é£Ÿã¹ç‰©ã‹ã‚‰åŠå¾„ 2-4 ãƒã‚¹ä»¥å†…ã«ãƒ©ãƒ³ãƒ€ãƒ å‡ºç¾
- **ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³**: é£Ÿã¹ç‰©ã‚’ä¸­å¿ƒã¨ã—ãŸåŠå¾„ 2 ãƒã‚¹ä»¥å†…ã‚’å·¡å›
- **ç‰¹æ®Šèƒ½åŠ›**: é£Ÿã¹ç‰©ã‹ã‚‰ 3 ãƒã‚¹ä»¥ä¸Šé›¢ã‚Œã‚‹ã¨ 6 å€é€Ÿã§é£Ÿã¹ç‰©ã«å‘ã‹ã£ã¦ç§»å‹•
- **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åå¿œ**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒ 3 ãƒã‚¹ä»¥å†…ã«æ¥è¿‘ã™ã‚‹ã¨è­¦æˆ’çŠ¶æ…‹ã«ãªã‚Šè‰²ãŒ `light_red` ã«å¤‰åŒ–
- **è­¦æˆ’ã‚·ã‚¹ãƒ†ãƒ **: è­¦æˆ’ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦è¡¨ç¤ºè‰²ãŒå¤‰åŒ–ï¼ˆè¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼‰
- **å·¡å›é€Ÿåº¦**: é€šå¸¸ã®å·¡å›è§’åº¦æ›´æ–°ãŒ 0.15 ãƒ©ã‚¸ã‚¢ãƒ³/ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆã‚ˆã‚Šé€Ÿã„å·¡å›ï¼‰
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å®ˆã‚‹é£Ÿã¹ç‰©ãŒæ¶ˆå¤±ã—ãŸå ´åˆã¯æ–°ã—ã„é£Ÿã¹ç‰©ã‚’æ¢ç´¢

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **åˆå›é­é‡**: ã€Œãªãœã“ã®æ•µã¯ç‰¹å®šã®å ´æ‰€ã«ã„ã‚‹ã®ã‹ï¼Ÿã€
- **ç†è§£æ®µéš**: ã€Œé£Ÿã¹ç‰©ã‚’å®ˆã£ã¦ã„ã‚‹ã€
- **æˆ¦ç•¥ç™ºå±•**: ã€Œã©ã†ã‚„ã£ã¦åŠ¹ç‡çš„ã«å¯¾å‡¦ã™ã‚‹ã‹ã€
- **è¦–è¦šçš„å­¦ç¿’**: è­¦æˆ’æ™‚ã®è‰²å¤‰åŒ–ï¼ˆé»„è‰² â†’ èµ¤è‰²ï¼‰ã§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã®è·é›¢é–¢ä¿‚ã‚’ç†è§£
- **è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜**: å·¡å› â†’ è­¦æˆ’ â†’ æ€¥é€Ÿå¸°é‚„ã®è¡Œå‹•ã‚µã‚¤ã‚¯ãƒ«ã‚’è¦³å¯Ÿ
- **ã‚¿ã‚¤ãƒŸãƒ³ã‚°æˆ¦è¡“**: ã‚¬ãƒ¼ãƒ‰ãŒé£Ÿã¹ç‰©ã‹ã‚‰é›¢ã‚ŒãŸç¬é–“ã‚’ç‹™ã†æˆ¦è¡“ã®ç¿’å¾—

---

## 3. ãƒã‚§ã‚¤ã‚µãƒ¼ã‚¿ã‚¤ãƒ—æ•µ (Chaser Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: é€ƒèµ°æˆ¦è¡“ã¨ç©ºé–“èªè­˜ã®å‘ä¸Š
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œè¿½è·¡ã‹ã‚‰ã®è„±å‡ºã€ã‚¹ãƒªãƒ«

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `C`
- **è‰²**: `light_cyan` (è¿½è·¡ã‚’ç¤ºã™)
- **åŸºæœ¬ç‚¹æ•°**: 220 ç‚¹ (èª¿æ•´: é€ƒèµ°ã®å›°é›£ã•ã‚’åæ˜ )
- **ç§»å‹•é€Ÿåº¦**: é€šå¸¸ã‚ˆã‚Šå°‘ã—é€Ÿã„ (10 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: MEDIUM (æˆ¦è¡“çš„æŒ‘æˆ¦)

### å‹å®šç¾©

```typescript
interface ChaserEnemy extends BaseEnemy {
  type: EnemyType.CHASER;
  chaseTarget: Position; // è¿½è·¡å¯¾è±¡ã®ä½ç½®
  stunDuration: number; // ã‚¹ã‚¿ãƒ³æ®‹ã‚Šæ™‚é–“
  lastValidDirection: Direction; // æœ€å¾Œã®æœ‰åŠ¹ãªæ–¹å‘
  pathfindingCooldown: number; // çµŒè·¯æ¢ç´¢ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³
  stuckCounter: number; // è¡Œãè©°ã¾ã‚Šæ¤œå‡º
  chaseIntensity: number; // è¿½è·¡å¼·åº¦ (è·é›¢ã«å¿œã˜ã¦å¤‰åŒ–)
}

const CHASER_CONFIG: EnemyConfig = {
  displayChar: "C",
  color: "light_red",
  baseScore: 180,
  moveInterval: 8,
  spawnWeight: 20,
  maxCount: 3,
  threatLevel: ThreatLevel.MEDIUM,
  learningObjective: "é€ƒèµ°æˆ¦è¡“ã¨ç©ºé–“èªè­˜ã‚’å‘ä¸Šã•ã›ã‚‹",
  counterStrategies: [
    "å£ã‚„éšœå®³ç‰©ã‚’åˆ©ç”¨ã—ã¦ãƒã‚§ã‚¤ã‚µãƒ¼ã‚’è¡Œãè©°ã¾ã‚‰ã›ã‚‹",
    "ä»–ã®æ•µã‚’ç›¾ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹",
    "é•·ã„ç›´ç·šã‚’é¿ã‘ã€è¤‡é›‘ãªçµŒè·¯ã‚’é¸ã¶",
    "ãƒã‚§ã‚¤ã‚µãƒ¼ã‚’å›²ã„è¾¼ã¿ã‚¨ãƒªã‚¢ã«èª˜å°ã™ã‚‹",
  ],
};

const CHASER_BEHAVIOR_CONFIG = {
  stunDuration: 60,
  pathfindingInterval: 12,
  maxStuckFrames: 36,
  chaseRange: 15, // è¿½è·¡é–‹å§‹è·é›¢
  intensityDecayRate: 0.95, // è¿½è·¡å¼·åº¦æ¸›è¡°ç‡
};
```

### è¡Œå‹•ä»•æ§˜

- **è¿½è·¡å¯¾è±¡**: ã‚¹ãƒãƒ¼ã‚¯ã®é ­éƒ¨
- **ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³**: æœ€çŸ­è·é›¢ã§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«å‘ã‹ã£ã¦ç§»å‹•
- **ç‰¹æ®Šèƒ½åŠ›**: å£ã‚„éšœå®³ç‰©ã«ã¶ã¤ã‹ã‚‹ã¨ä¸€æ™‚çš„ã«å‹•ã‹ãªããªã‚‹ (60 ãƒ•ãƒ¬ãƒ¼ãƒ )
- **è¿½è·¡å¼·åº¦**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã®è·é›¢ã«å¿œã˜ã¦è¿½è·¡ã®ç©æ¥µæ€§ãŒå¤‰åŒ–
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: è¿½è·¡å¯¾è±¡ãŒç¯„å›²å¤–ã®å ´åˆã¯ãƒ©ãƒ³ãƒ€ãƒ ç§»å‹•ã«åˆ‡ã‚Šæ›¿ãˆ

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **ç·Šæ€¥å›é¿**: å³åº§ã®å±é™ºã¸ã®å¯¾å¿œ
- **ç©ºé–“æ´»ç”¨**: åœ°å½¢ã‚’åˆ©ç”¨ã—ãŸæˆ¦è¡“
- **äºˆæ¸¬è¡Œå‹•**: ãƒã‚§ã‚¤ã‚µãƒ¼ã®å‹•ãã‚’å…ˆèª­ã¿ã—ãŸç§»å‹•

---

## 4. ã‚¹ãƒ—ãƒªãƒƒã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—æ•µ (Splitter Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: æˆ¦ç•¥çš„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨çµæœäºˆæ¸¬
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œä¸€ç­‹ç¸„ã§ã¯ã„ã‹ãªã„ã€æˆ¦ç•¥çš„æ€è€ƒ

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `S`
- **è‰²**: `purple` (åˆ†è£‚ã‚’ç¤ºã™)
- **åŸºæœ¬ç‚¹æ•°**: 80 ç‚¹ (åˆ†è£‚å¾Œã®å­æ•µã¯ 40 ç‚¹ãšã¤)
- **ç§»å‹•é€Ÿåº¦**: ä¸­ç¨‹åº¦ (48 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: MEDIUM (æˆ¦ç•¥çš„åˆ¤æ–­è¦æ±‚)

### å‹å®šç¾©

```typescript
interface SplitterEnemy extends BaseEnemy {
  type: EnemyType.SPLITTER;
  isChild: boolean; // åˆ†è£‚å¾Œã®å­æ•µã‹ã©ã†ã‹
  splitCount: number; // åˆ†è£‚å›æ•°
  parentId: string | null; // è¦ªæ•µã®ID
  maxSplits: number; // æœ€å¤§åˆ†è£‚å›æ•°
  splitWarningTimer: number; // åˆ†è£‚äºˆå‘Šã‚¿ã‚¤ãƒãƒ¼
}

const SPLITTER_CONFIG: EnemyConfig = {
  displayChar: "S",
  color: "purple",
  baseScore: 80,
  moveInterval: 12,
  spawnWeight: 15,
  maxCount: 4,
  threatLevel: ThreatLevel.MEDIUM,
  learningObjective: "æˆ¦ç•¥çš„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨çµæœäºˆæ¸¬ã‚’å­¦ã¶",
  counterStrategies: [
    "åˆ†è£‚ã‚’è¦‹è¶Šã—ã¦åºƒã„ã‚¨ãƒªã‚¢ã§å›²ã‚€",
    "å­æ•µã®å‡ºç¾ä½ç½®ã‚’äºˆæ¸¬ã—ã¦å¯¾å‡¦",
    "åˆ†è£‚ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’èª¿æ•´ã—ã¦æœ‰åˆ©ãªçŠ¶æ³ã‚’ä½œã‚‹",
    "ä»–ã®æ•µã¨ã®ä½ç½®é–¢ä¿‚ã‚’è€ƒæ…®ã—ã¦æ’ƒç ´é †åºã‚’æ±ºã‚ã‚‹",
  ],
};

const SPLITTER_BEHAVIOR_CONFIG = {
  maxSplits: 1, // å­æ•µã¯åˆ†è£‚ã—ãªã„
  childBlinkDuration: 60,
  childScoreMultiplier: 0.5,
  splitSearchRadius: 2, // åˆ†è£‚ä½ç½®æ¤œç´¢ç¯„å›²
  splitWarningDuration: 30, // åˆ†è£‚äºˆå‘Šæ™‚é–“
};
```

### åˆ†è£‚ãƒ­ã‚¸ãƒƒã‚¯

- è¦ªæ•µã®ä¸Šä¸‹å·¦å³ã«å­æ•µã‚’é…ç½®è©¦è¡Œ
- é…ç½®ä¸å¯èƒ½ãªå ´åˆã¯é…ç½®å¯èƒ½ãªæ–¹å‘ã®ã¿ã«ç”Ÿæˆ
- å­æ•µã¯åˆ†è£‚ã—ãªã„ (splitCount > 0)
- **åˆ†è£‚äºˆå‘Š**: æ’ƒç ´ 30 ãƒ•ãƒ¬ãƒ¼ãƒ å‰ã«è¦–è¦šçš„è­¦å‘Šã‚’è¡¨ç¤º
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: åˆ†è£‚ä½ç½®ãŒå…¨ã¦ç„¡åŠ¹ãªå ´åˆã¯åˆ†è£‚ã‚’ã‚¹ã‚­ãƒƒãƒ—

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **çµæœäºˆæ¸¬**: è¡Œå‹•ã®çµæœã‚’äº‹å‰ã«è€ƒãˆã‚‹
- **ãƒªã‚¹ã‚¯ç®¡ç†**: ã„ã¤æ”»æ’ƒã—ã€ã„ã¤å¾…ã¤ã‹ã®åˆ¤æ–­
- **ç©ºé–“è¨ˆç”»**: åˆ†è£‚å¾Œã®çŠ¶æ³ã‚’æƒ³å®šã—ãŸä½ç½®å–ã‚Š

---

## 5. ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¹ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—æ•µ (Speedster Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: åå¿œé€Ÿåº¦ã¨å‹•çš„åˆ¤æ–­åŠ›ã®å‘ä¸Š
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œç´ æ—©ã„æ•µã¸ã®å¯¾å¿œã€ç·Šå¼µæ„Ÿ

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `F` (Fast)
- **è‰²**: `cyan` (é«˜é€Ÿã‚’ç¤ºã™)
- **åŸºæœ¬ç‚¹æ•°**: 300 ç‚¹ (èª¿æ•´: æ•æ‰å›°é›£æ€§ã‚’åæ˜ )
- **ç§»å‹•é€Ÿåº¦**: é€šå¸¸ã® 2 å€é€Ÿ (6 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: HIGH (åå¿œé€Ÿåº¦è¦æ±‚)

### å‹å®šç¾©

```typescript
interface SpeedsterEnemy extends BaseEnemy {
  type: EnemyType.SPEEDSTER;
  speedMultiplier: number; // é€Ÿåº¦å€ç‡
  directionChangeTimer: number; // æ–¹å‘å¤‰æ›´ã‚¿ã‚¤ãƒãƒ¼
  lastDirectionChange: number; // æœ€å¾Œã®æ–¹å‘å¤‰æ›´æ™‚åˆ»
  boostCooldown: number; // ãƒ–ãƒ¼ã‚¹ãƒˆä½¿ç”¨å¾Œã®ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³
  predictabilityCounter: number; // äºˆæ¸¬å¯èƒ½æ€§ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼
}

const SPEEDSTER_CONFIG: EnemyConfig = {
  displayChar: "F",
  color: "cyan",
  baseScore: 220,
  moveInterval: 6,
  spawnWeight: 15,
  maxCount: 2,
  threatLevel: ThreatLevel.MEDIUM,
  learningObjective: "åå¿œé€Ÿåº¦ã¨å‹•çš„åˆ¤æ–­åŠ›ã‚’å‘ä¸Šã•ã›ã‚‹",
  counterStrategies: [
    "ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¹ã‚¿ãƒ¼ã®å‹•ããƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦³å¯Ÿã—ã¦äºˆæ¸¬",
    "ç‹­ã„å ´æ‰€ã«èª˜å°ã—ã¦å‹•ãã‚’åˆ¶é™",
    "ä»–ã®æ•µã¨çµ„ã¿åˆã‚ã›ã¦æŒŸã¿æ’ƒã¡",
    "å£éš›ã§ã®åå°„ã‚’åˆ©ç”¨ã—ãŸå›²ã„è¾¼ã¿",
  ],
};

const SPEEDSTER_BEHAVIOR_CONFIG = {
  speedMultiplier: 2.0,
  directionChangeInterval: 10,
  directionChangeChance: 0.3,
  wallReflectionEnabled: true,
  predictabilityThreshold: 5, // äºˆæ¸¬å¯èƒ½ã«ãªã‚‹ã¾ã§ã®ç§»å‹•å›æ•°
};
```

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **å‹•çš„å¯¾å¿œ**: ç´ æ—©ãå¤‰åŒ–ã™ã‚‹çŠ¶æ³ã¸ã®é©å¿œ
- **ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜**: é«˜é€Ÿç§»å‹•ä¸­ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ç™ºè¦‹
- **å…ˆèª­ã¿æŠ€è¡“**: æ•µã®æ¬¡ã®å‹•ãã‚’äºˆæ¸¬

---

## 6. ãƒŸãƒŸãƒƒã‚¯ã‚¿ã‚¤ãƒ—æ•µ (Mimic Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: è‡ªå·±èªè­˜ã¨è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®¢è¦³è¦–
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œè‡ªåˆ†ã®å‹•ããŒæ•µã«ãªã‚‹ã€æ–°é®®ãªé©šã

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `M` (Mirror)
- **è‰²**: `light_cyan` (æ¨¡å€£ã‚’ç¤ºã™)
- **åŸºæœ¬ç‚¹æ•°**: 130 ç‚¹ (èª¿æ•´: äºˆæ¸¬å›°é›£æ€§ã‚’åæ˜ )
- **ç§»å‹•é€Ÿåº¦**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨åŒã˜ (8 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: MEDIUM (é«˜åº¦ãªæˆ¦ç•¥è¦æ±‚)

### å‹å®šç¾©

```typescript
interface MimicEnemy extends BaseEnemy {
  type: EnemyType.MIMIC;
  mimicTarget: Position[]; // æ¨¡å€£ã™ã‚‹è»Œè·¡
  mimicDelay: number; // æ¨¡å€£ã®é…å»¶ãƒ•ãƒ¬ãƒ¼ãƒ æ•°
  mimicAccuracy: number; // æ¨¡å€£ã®ç²¾åº¦ (0.0-1.0)
  recordingBuffer: Position[]; // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è»Œè·¡è¨˜éŒ²
  maxRecordLength: number; // æœ€å¤§è¨˜éŒ²é•·
}

const MIMIC_CONFIG: EnemyConfig = {
  displayChar: "M",
  color: "light_cyan",
  baseScore: 280,
  moveInterval: 8,
  spawnWeight: 12,
  maxCount: 1,
  threatLevel: ThreatLevel.HIGH,
  learningObjective: "è‡ªå·±ã®è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®¢è¦³è¦–ã—ã€æˆ¦ç•¥çš„æ€è€ƒã‚’æ·±ã‚ã‚‹",
  counterStrategies: [
    "æ„å›³çš„ã«è¤‡é›‘ãªè»Œè·¡ã‚’æã„ã¦ãƒŸãƒŸãƒƒã‚¯ã‚’æ··ä¹±ã•ã›ã‚‹",
    "æ€¥æ¿€ãªæ–¹å‘è»¢æ›ã§ãƒŸãƒŸãƒƒã‚¯ã¨ã®è·é›¢ã‚’ä½œã‚‹",
    "ãƒŸãƒŸãƒƒã‚¯ã®é…å»¶ã‚’åˆ©ç”¨ã—ã¦ç½ ã«èª˜å°",
    "ç›´ç·šçš„ãªå‹•ãã‚’é¿ã‘ã€äºˆæ¸¬å›°é›£ãªå‹•ãã‚’å¿ƒãŒã‘ã‚‹",
  ],
};

const MIMIC_BEHAVIOR_CONFIG = {
  mimicDelay: 45, // 1.5ç§’ã®é…å»¶
  mimicAccuracy: 0.85, // 85%ã®ç²¾åº¦
  maxRecordLength: 120, // 4ç§’åˆ†ã®è»Œè·¡
  accuracyDecayRate: 0.02, // æ™‚é–“çµŒéã«ã‚ˆã‚‹ç²¾åº¦ä½ä¸‹
};
```

### è¡Œå‹•ä»•æ§˜

- **æ¨¡å€£å¯¾è±¡**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®éå»ã®ç§»å‹•è»Œè·¡
- **é…å»¶æ¨¡å€£**: 1.5 ç§’é…ã‚Œã§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‹•ãã‚’å†ç¾
- **ç²¾åº¦å¤‰å‹•**: æ™‚é–“çµŒéã¨å…±ã«æ¨¡å€£ç²¾åº¦ãŒä½ä¸‹
- **å­¦ç¿’åŠ¹æœ**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å¯è¦–åŒ–

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **è‡ªå·±åˆ†æ**: è‡ªåˆ†ã®ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®¢è¦³è¦–
- **è¡Œå‹•å¤šæ§˜åŒ–**: ãƒ‘ã‚¿ãƒ¼ãƒ³åŒ–ã—ãŸå‹•ãã‹ã‚‰ã®è„±å´
- **æˆ¦ç•¥çš„æ€è€ƒ**: æ•µã®è¡Œå‹•ã‚’é€†åˆ©ç”¨ã™ã‚‹ç™ºæƒ³

---

## 7. ã‚¹ãƒãƒ¼ã‚¯ã‚¿ã‚¤ãƒ—æ•µ (Snake Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: è¤‡é›‘ãªç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç†è§£ã¨ç©ºé–“åˆ¶å¾¡
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œã‚‚ã†ä¸€åŒ¹ã®ã‚¹ãƒãƒ¼ã‚¯ã€ã¨ã®é ˜åŸŸäº‰ã„

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `S` (é ­éƒ¨), `s` (èƒ´ä½“)
- **è‰²**: `yellow` (é ­éƒ¨), `light_yellow` (èƒ´ä½“)
- **åŸºæœ¬ç‚¹æ•°**: 330 ç‚¹ (é ­éƒ¨ã®ã¿ã§åˆ¤å®šã€å…¨ä½“ç ´å£Š)
- **ç§»å‹•é€Ÿåº¦**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚ˆã‚Šå°‘ã—é…ã„ (10 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: HIGH (è¤‡é›‘ãªç©ºé–“åˆ¶å¾¡è¦æ±‚)

### å‹å®šç¾©

```typescript
interface SnakeEnemy extends BaseEnemy {
  type: EnemyType.SNAKE;
  body: Position[]; // èƒ´ä½“ã‚»ã‚°ãƒ¡ãƒ³ãƒˆé…åˆ— (é ­éƒ¨ã¯[0])
  maxLength: number; // æœ€å¤§é•·ã•
  currentLength: number; // ç¾åœ¨ã®é•·ã•
  growthRate: number; // æˆé•·ç‡ (ãƒ•ãƒ¬ãƒ¼ãƒ /ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ)
  lastGrowthTime: number; // æœ€å¾Œã®æˆé•·æ™‚åˆ»
  movementPattern: "patrol" | "chase" | "territorial"; // ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³
  territoryCenter: Position; // ç¸„å¼µã‚Šã®ä¸­å¿ƒ
  territoryRadius: number; // ç¸„å¼µã‚Šã®åŠå¾„
  pathHistory: Position[]; // ç§»å‹•å±¥æ­´
  selfCollisionCheck: boolean; // è‡ªå·±è¡çªãƒã‚§ãƒƒã‚¯
}

const SNAKE_CONFIG: EnemyConfig = {
  displayChar: "S", // é ­éƒ¨
  bodyChar: "s", // èƒ´ä½“
  color: "yellow",
  bodyColor: "light_yellow",
  baseScore: 330, // å…¨ä½“ã‚¹ã‚³ã‚¢ï¼ˆé ­éƒ¨ã®ã¿ã§åˆ¤å®šï¼‰
  bodyScore: 0, // èƒ´ä½“ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ï¼ˆä½¿ç”¨ã—ãªã„ï¼‰
  moveInterval: 10,
  spawnWeight: 8,
  maxCount: 2,
  threatLevel: ThreatLevel.HIGH,
  learningObjective: "è¤‡é›‘ãªç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£ã—ã€ç©ºé–“åˆ¶å¾¡ã‚’ç¿’å¾—ã™ã‚‹",
  counterStrategies: [
    "ã‚¹ãƒãƒ¼ã‚¯æ•µã®é ­éƒ¨ã‚’ç‹™ã£ã¦æ’ƒç ´ã™ã‚‹",
    "ã‚¹ãƒãƒ¼ã‚¯æ•µã‚’è‡ªåˆ†ã®å°»å°¾ã«è¡çªã•ã›ã‚‹",
    "ã‚¹ãƒãƒ¼ã‚¯æ•µã®ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’èª­ã‚“ã§å…ˆå›ã‚Šã™ã‚‹",
    "ã‚¹ãƒãƒ¼ã‚¯æ•µã®ç¸„å¼µã‚Šã‚’é¿ã‘ã¦å®‰å…¨ãªé ˜åŸŸã‚’ç¢ºä¿ã™ã‚‹",
  ],
};

const SNAKE_BEHAVIOR_CONFIG = {
  initialLength: 3, // åˆæœŸé•·ã•ï¼ˆé ­éƒ¨ + èƒ´ä½“2ã¤ï¼‰
  maxLength: 3, // æœ€å¤§é•·ã•ï¼ˆå›ºå®šï¼‰
  growthInterval: 0, // æˆé•·ã—ãªã„
  territoryRadius: 6, // ç¸„å¼µã‚ŠåŠå¾„
  pathHistoryLength: 20, // ç§»å‹•å±¥æ­´ä¿æŒæ•°
  selfCollisionEnabled: true, // è‡ªå·±è¡çªæœ‰åŠ¹
  chaseActivationDistance: 8, // è¿½è·¡é–‹å§‹è·é›¢
  territorialReturnDistance: 10, // ç¸„å¼µã‚Šå¾©å¸°è·é›¢
  directionChangeChance: 0.2, // æ–¹å‘è»¢æ›ç¢ºç‡
};
```

### è¡Œå‹•ä»•æ§˜

- **åˆæœŸçŠ¶æ…‹**: 3 ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®é•·ã•ã§å‡ºç¾ï¼ˆé ­éƒ¨ + èƒ´ä½“ 2 ã¤ï¼‰
- **æˆé•·ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹**: æˆé•·ã—ãªã„ï¼ˆèƒ´ä½“ã¯ 2 ã¤ã§å›ºå®šï¼‰
- **ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³**:
  - **å·¡å›ãƒ¢ãƒ¼ãƒ‰**: ç¸„å¼µã‚Šå†…ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ç§»å‹•
  - **è¿½è·¡ãƒ¢ãƒ¼ãƒ‰**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒ 8 ãƒã‚¹ä»¥å†…ã«æ¥è¿‘ã™ã‚‹ã¨è¿½è·¡é–‹å§‹
  - **ç¸„å¼µã‚Šãƒ¢ãƒ¼ãƒ‰**: ç¸„å¼µã‚Šã‹ã‚‰ 10 ãƒã‚¹ä»¥ä¸Šé›¢ã‚Œã‚‹ã¨å¼·åˆ¶å¸°é‚„
- **è‡ªå·±è¡çª**: è‡ªåˆ†ã®èƒ´ä½“ã«è¡çªã™ã‚‹ã¨ç ´å£Šã•ã‚Œã‚‹
- **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¡çª**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒãƒ¼ã‚¯ã¨è¡çªã™ã‚‹ã¨ä¸¡æ–¹ç ´å£Š

### ç‰¹æ®Šãƒ«ãƒ¼ãƒ«

- **é ­éƒ¨æ’ƒç ´**: é ­éƒ¨ã®ã¿å›²ã¿çˆ†ç™ºã§ç ´å£Šå¯èƒ½
- **å…¨ä½“ç ´å£Š**: é ­éƒ¨ç ´å£Šæ™‚ã«å…¨èƒ´ä½“ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚‚åŒæ™‚ç ´å£Šã€330 ç‚¹ç²å¾—
- **ç©ºé–“å æœ‰**: èƒ´ä½“ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã¯é€šè¡Œä¸å¯ã®éšœå®³ç‰©ã¨ã—ã¦æ©Ÿèƒ½
- **æˆé•·åˆ¶é™**: æœ€å¤§é•·ã•ã«é”ã™ã‚‹ã¨æˆé•·åœæ­¢
- **ç¸„å¼µã‚Šæ„è­˜**: ä»–ã®ã‚¹ãƒãƒ¼ã‚¯æ•µã¨ã®ç¸„å¼µã‚Šäº‰ã„ã‚’é¿ã‘ã‚‹

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **è¤‡é›‘ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜**: é•·ã„èƒ´ä½“ã‚’æŒã¤æ•µã®å‹•ããƒ‘ã‚¿ãƒ¼ãƒ³ç†è§£
- **ç©ºé–“åˆ¶å¾¡**: é™ã‚‰ã‚ŒãŸç©ºé–“ã§ã®åŠ¹ç‡çš„ãªç§»å‹•
- **æˆ¦ç•¥çš„æ€è€ƒ**: é ­éƒ¨ã‚’ç‹™ã†ç²¾å¯†ãªå›²ã¿æˆ¦è¡“
- **ãƒªã‚¹ã‚¯ç®¡ç†**: é•·ã„æ•µã¨ã®è¡çªãƒªã‚¹ã‚¯ã®è©•ä¾¡

---

## 8. ã‚¦ã‚©ãƒ¼ãƒ«ã‚¯ãƒªãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—æ•µ (Wall Creeper Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: ç©ºé–“ã®æœ‰åŠ¹æ´»ç”¨ã¨äºˆæ¸¬ç§»å‹•
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œå£éš›ã®è„…å¨ã€æ–°ã—ã„ç©ºé–“èªè­˜

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `W`
- **è‰²**: `light_black` (å£ã«åŒåŒ–)
- **åŸºæœ¬ç‚¹æ•°**: 150 ç‚¹ (èª¿æ•´: äºˆæ¸¬å¯èƒ½æ€§ã‚’è€ƒæ…®)
- **ç§»å‹•é€Ÿåº¦**: é€šå¸¸ã¨åŒã˜ (12 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: MEDIUM (ç©ºé–“èªè­˜è¦æ±‚)

### å‹å®šç¾©

```typescript
interface WallCreeperEnemy extends BaseEnemy {
  type: EnemyType.WALL_CREEPER;
  currentBehaviorState: "in_wall" | "crossing_open_space"; // ç¾åœ¨ã®è¡Œå‹•çŠ¶æ…‹
  wallFollowCardinalDirection: Direction; // å£æ²¿ã„ç§»å‹•æ™‚ã®ç¾åœ¨ã®æ–¹è§’
  targetCrossPosition: Position | null; // ã‚ªãƒ¼ãƒ—ãƒ³ã‚¹ãƒšãƒ¼ã‚¹æ¨ªæ–­æ™‚ã®ç›®æ¨™åº§æ¨™
  behaviorTimer: number; // ç¾åœ¨ã®è¡Œå‹•çŠ¶æ…‹ã®ã‚¿ã‚¤ãƒãƒ¼ (å£å†…æ»åœ¨æ™‚é–“ã€æ¨ªæ–­æ™‚é–“ãªã©)
  exitWallDecisionTimer: number; // å£ã‹ã‚‰é›¢è„±ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ±ºå®šã™ã‚‹ã‚¿ã‚¤ãƒãƒ¼
}

const WALL_CREEPER_CONFIG: EnemyConfig = {
  displayChar: "W",
  color: "light_black",
  baseScore: 160,
  moveInterval: 12, // ç§»å‹•é€Ÿåº¦ (ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
  spawnWeight: 10,
  maxCount: 3,
  threatLevel: ThreatLevel.MEDIUM,
  learningObjective:
    "å£ã‚’åˆ©ç”¨ã—ãŸç‰¹ç•°ãªç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£ã—ã€äºˆæ¸¬å¯¾å‡¦èƒ½åŠ›ã‚’é¤Šã†",
  counterStrategies: [
    "å£å†…ç§»å‹•ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨è§’ã§ã®åœæ­¢ã‚’äºˆæ¸¬ã™ã‚‹",
    "å£ã‹ã‚‰å‡ºã¦ã‚ªãƒ¼ãƒ—ãƒ³ã‚¹ãƒšãƒ¼ã‚¹ã‚’æ¨ªæ–­ã™ã‚‹ç¬é–“ã‚’ç‹™ã£ã¦æ”»æ’ƒã™ã‚‹",
    "åå¯¾å´ã®å£ã¸ã®é€²å…¥åœ°ç‚¹ã‚’äºˆæ¸¬ã—ã¦å¾…ã¡æ§‹ãˆã‚‹",
    "å£éš›ã‹ã‚‰é›¢ã‚ŒãŸå®‰å…¨ãªä½ç½®ã§å¯¾å‡¦ã™ã‚‹",
  ],
};

const WALL_CREEPER_BEHAVIOR_CONFIG = {
  minTimeInWall: 120, // å£å†…ã‚’ç§»å‹•ã™ã‚‹æœ€å°ãƒ•ãƒ¬ãƒ¼ãƒ æ•° (ç´„2ç§’)
  maxTimeInWall: 300, // å£å†…ã‚’ç§»å‹•ã™ã‚‹æœ€å¤§ãƒ•ãƒ¬ãƒ¼ãƒ æ•° (ç´„5ç§’)
  crossingSpeedMultiplier: 1.0, // ã‚ªãƒ¼ãƒ—ãƒ³ã‚¹ãƒšãƒ¼ã‚¹æ¨ªæ–­æ™‚ã®é€Ÿåº¦å€ç‡ (åŸºæœ¬ç§»å‹•é€Ÿåº¦ã«å¯¾ã™ã‚‹)
  // wallSearchRadius and other previous irrelevant fields removed
};
```

### ç‰¹æ®Šãƒ«ãƒ¼ãƒ«

- **å‡ºç¾**: å£ã‚»ãƒ«ï¼ˆç”»é¢ç«¯ã®ã‚»ãƒ«ï¼‰ã®ãƒ©ãƒ³ãƒ€ãƒ ãªä½ç½®ã«å‡ºç¾ã—ã¾ã™ã€‚
- **å£å†…ç§»å‹•**:
  - å‡ºç¾å¾Œã€å£ã«æ²¿ã£ã¦ä¸€å®šæ–¹å‘ã«ç§»å‹•ã‚’é–‹å§‹ã—ã¾ã™ï¼ˆä¾‹: æ™‚è¨ˆå›ã‚Šã¾ãŸã¯åæ™‚è¨ˆå›ã‚Šã®ã‚ˆã†ã«è¦‹ãˆã‚‹ãŒã€å®Ÿéš›ã«ã¯ä¸Šä¸‹å·¦å³ã®åŸºæœ¬æ–¹å‘ã§å£é¢ã‚’è¾¿ã‚‹ï¼‰ã€‚
  - å£ã®è§’ã«åˆ°é”ã™ã‚‹ã¨ã€å£ã«æ²¿ã£ã¦é€²è¡Œæ–¹å‘ã‚’å¤‰ãˆã¦ç§»å‹•ã‚’ç¶™ç¶šã—ã¾ã™ã€‚
- **å£æ¨ªæ–­è¡Œå‹•**:
  - å£å†…ã‚’ `minTimeInWall` ã‹ã‚‰ `maxTimeInWall` ã®é–“ã§ãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºå®šã•ã‚ŒãŸæ™‚é–“ç§»å‹•ã—ãŸå¾Œã€å£ã‹ã‚‰é›¢è„±ã™ã‚‹åˆ¤æ–­ã‚’è¡Œã„ã¾ã™ã€‚
  - ç¾åœ¨ä½ç½®ã‹ã‚‰è¦‹ã¦ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åå¯¾å´ã®å£ã«ã‚ã‚‹å¯¾å¿œã™ã‚‹åº§æ¨™ï¼ˆä¾‹: å·¦ã®å£ `x=0, y=Y` ã«ã„ã‚Œã°ã€å³ã®å£ `x=WIDTH-1, y=Y`ï¼‰ã‚’ç›®æ¨™åœ°ç‚¹ `targetCrossPosition` ã¨ã—ã¾ã™ã€‚
  - `currentBehaviorState` ã‚’ `"crossing_open_space"` ã«å¤‰æ›´ã—ã€ç›®æ¨™åœ°ç‚¹ã«å‘ã‹ã£ã¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸­å¤®ã‚’ç›´ç·šçš„ã«æ¨ªæ–­ã—ã¾ã™ã€‚ç§»å‹•é€Ÿåº¦ã¯åŸºæœ¬ç§»å‹•é€Ÿåº¦ã« `crossingSpeedMultiplier` ã‚’ä¹—ã˜ãŸã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚
- **å£ã¸ã®å†é€²å…¥**:
  - ç›®æ¨™åœ°ç‚¹ã®å£ã‚»ãƒ«ã«åˆ°é”ã™ã‚‹ã¨ã€`currentBehaviorState` ã‚’ `"in_wall"` ã«æˆ»ã—ã¾ã™ã€‚
  - æ–°ã—ã„å£é¢ã§å†ã³å£å†…ç§»å‹•ã‚’é–‹å§‹ã—ã€å¿…è¦ã«å¿œã˜ã¦é€²è¡Œæ–¹å‘ã‚’æ±ºå®šã—ã¾ã™ã€‚
- **ç¹°ã‚Šè¿”ã—**: ä¸Šè¨˜ã®ã€Œå£å†…ç§»å‹• â†’ å£æ¨ªæ–­è¡Œå‹• â†’ å£ã¸ã®å†é€²å…¥ã€ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚
- **è¡çªç‰¹æ€§**:
  - å£å†…ç§»å‹•ä¸­ (`"in_wall"` çŠ¶æ…‹) ã¯ã€ã‚¦ã‚©ãƒ¼ãƒ«ã‚¯ãƒªãƒ¼ãƒ‘ãƒ¼è‡ªä½“ãŒå£ã®ä¸€éƒ¨ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã„ã€ãã®ã‚»ãƒ«ã¯ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã¨ã£ã¦é€šè¡Œä¸å¯èƒ½ãªéšœå®³ç‰©ã¨ãªã‚Šã¾ã™ã€‚ã‚¦ã‚©ãƒ¼ãƒ«ã‚¯ãƒªãƒ¼ãƒ‘ãƒ¼ã®æ–‡å­— `W` ãŒå£ã®æ–‡å­—ã®ä»£ã‚ã‚Šã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
  - ã‚ªãƒ¼ãƒ—ãƒ³ã‚¹ãƒšãƒ¼ã‚¹æ¨ªæ–­ä¸­ (`"crossing_open_space"` çŠ¶æ…‹) ã¯ã€ä»–ã®æ•µã¨åŒæ§˜ã«æ‰±ã‚ã‚Œã€é€šå¸¸ã®è¡çªåˆ¤å®šãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚
- **ç ´å£Šæ¡ä»¶**: å›²ã¿çˆ†ç™ºã«ã‚ˆã£ã¦ã®ã¿ç ´å£Šå¯èƒ½ã§ã™ã€‚

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **ãƒ‘ã‚¿ãƒ¼ãƒ³äºˆæ¸¬**: å£æ²¿ã„ã®è¦å‰‡çš„ãªå‹•ãã€è§’ã§ã®åœæ­¢ã€ãã—ã¦å£ã‹ã‚‰é›¢è„±ã—ã¦åå¯¾å´ã¸æ¸¡ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®äºˆæ¸¬ã€‚
- **ç©ºé–“æ´»ç”¨**: ã‚¦ã‚©ãƒ¼ãƒ«ã‚¯ãƒªãƒ¼ãƒ‘ãƒ¼ãŒå£å†…ã‚’ç§»å‹•ã—ã¦ã„ã‚‹é–“ã€ãã®å£ãŒä¸€æ™‚çš„ã«ç•°ãªã‚‹æ€§è³ªã‚’æŒã¤ã“ã¨ã‚’ç†è§£ã—ã€æˆ¦ç•¥ã«æ´»ã‹ã™ã€‚
- **ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚ªãƒ¼ãƒ—ãƒ³ã‚¹ãƒšãƒ¼ã‚¹ã‚’æ¨ªæ–­ã—ã¦ã„ã‚‹ç„¡é˜²å‚™ãªç¬é–“ã‚’æ‰ãˆã‚‹æ”»æ’ƒã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®ç¿’å¾—ã€‚
- **å±é™ºã‚¨ãƒªã‚¢èªè­˜**: ã‚¦ã‚©ãƒ¼ãƒ«ã‚¯ãƒªãƒ¼ãƒ‘ãƒ¼ãŒæ½œã‚€å£éš›ã‚„ã€æ¨ªæ–­ãƒ«ãƒ¼ãƒˆã¨ãªã‚Šã†ã‚‹ç›´ç·šä¸Šã®å±é™ºèªè­˜ã€‚

---

## 9. ã‚´ãƒ¼ã‚¹ãƒˆã‚¿ã‚¤ãƒ—æ•µ (Ghost Enemy)

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: ä¸ç¢ºå®Ÿæ€§ã¸ã®å¯¾å¿œã¨é©å¿œçš„æˆ¦ç•¥
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œäºˆæ¸¬ä¸å¯èƒ½ãªè„…å¨ã€ç·Šå¼µæ„Ÿã®ç¶­æŒ

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: `?` (ä¸å®šå½¢ã‚’ç¤ºã™)
- **è‰²**: é€šå¸¸æ™‚ `blue`ã€ç„¡å½¢åŒ–æ™‚ `light_black`
- **åŸºæœ¬ç‚¹æ•°**: 270 ç‚¹
- **ç§»å‹•é€Ÿåº¦**: é€šå¸¸ã¨åŒã˜ (12 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”)
- **è„…å¨åº¦**: HIGH

### å‹å®šç¾©

```typescript
interface GhostEnemy extends BaseEnemy {
  type: EnemyType.GHOST;
  isPhasing: boolean; // ç„¡å½¢åŒ–çŠ¶æ…‹
  phaseTimer: number; // ç„¡å½¢åŒ–æ®‹ã‚Šæ™‚é–“
  phaseChance: number; // ç„¡å½¢åŒ–ç¢ºç‡
  phaseCooldown: number; // ç„¡å½¢åŒ–ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³
  phaseWarningTimer: number; // ç„¡å½¢åŒ–äºˆå‘Šã‚¿ã‚¤ãƒãƒ¼
}

const GHOST_CONFIG: EnemyConfig = {
  displayChar: "?",
  color: "light_blue",
  baseScore: 350,
  moveInterval: 12,
  spawnWeight: 8,
  maxCount: 2,
  threatLevel: ThreatLevel.EXTREME,
  learningObjective: "ä¸ç¢ºå®Ÿæ€§ã«å¯¾å¿œã—ã€é©å¿œçš„æˆ¦ç•¥ã‚’èº«ã«ã¤ã‘ã‚‹",
  counterStrategies: [
    "ç„¡å½¢åŒ–ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¦³å¯Ÿã—ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹",
    "ç„¡å½¢åŒ–ä¸­ã¯ä»–ã®æ•µã«é›†ä¸­ã™ã‚‹",
    "ã‚´ãƒ¼ã‚¹ãƒˆã‚’æœ€å¾Œã«æ®‹ã—ã¦ç¢ºå®Ÿã«å¯¾å‡¦",
    "ç„¡å½¢åŒ–çµ‚äº†ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç‹™ã£ã¦å›²ã„è¾¼ã¿",
  ],
};

const GHOST_BEHAVIOR_CONFIG = {
  phaseChance: 0.2,
  phaseDuration: 30,
  phaseCooldown: 60,
  phaseColor: "light_black",
  overlapResolutionAttempts: 5,
  phaseWarningDuration: 15, // ç„¡å½¢åŒ–äºˆå‘Šæ™‚é–“
};
```

### ç‰¹æ®Šãƒ«ãƒ¼ãƒ«

- ç„¡å½¢åŒ–æ™‚ã¯èƒ´ä½“ã‚’ã™ã‚ŠæŠœã‘ã‚‹
- å£ã¯å¸¸ã«é€šã‚ŠæŠœã‘ä¸å¯
- **ç„¡å½¢åŒ–äºˆå‘Š**: ç„¡å½¢åŒ– 0.5 ç§’å‰ã«è¦–è¦šçš„è­¦å‘Š
- ç„¡å½¢åŒ–çµ‚äº†æ™‚ã«ä»–ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨é‡è¤‡ã—ã¦ã„ã‚‹å ´åˆã¯å¼·åˆ¶ç§»å‹•
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: é‡è¤‡è§£æ±ºå¤±æ•—æ™‚ã®å®‰å…¨ãªä½ç½®ã¸ã®ç§»å‹•

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å­¦ç¿’è¦ç´ 

- **ä¸ç¢ºå®Ÿæ€§ç®¡ç†**: äºˆæ¸¬å›°é›£ãªçŠ¶æ³ã¸ã®å¯¾å¿œ
- **å„ªå…ˆé †ä½åˆ¤æ–­**: è¤‡æ•°ã®è„…å¨ã®ä¸­ã§ã®é‡è¦åº¦åˆ¤æ–­
- **é©å¿œçš„æˆ¦ç•¥**: çŠ¶æ³ã«å¿œã˜ãŸæˆ¦è¡“å¤‰æ›´

---

## 10. ã‚¹ãƒ¯ãƒ¼ãƒ ã‚¿ã‚¤ãƒ—æ•µ (Swarm Enemy) - è©³ç´°ä»•æ§˜

### ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ç›®çš„

**å­¦ç¿’ç›®æ¨™**: é›†å›£æˆ¦è¡“ã¨å¤§å±€çš„åˆ¤æ–­ã€å„ªå…ˆé †ä½ä»˜ã‘ã®ç¿’å¾—
**ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“**: ã€Œæ•°ã®è„…å¨ã€åœ§å€’çš„ãªå­˜åœ¨æ„Ÿã¨æˆ¦ç•¥çš„æ€è€ƒã®è¦æ±‚

### åŸºæœ¬æƒ…å ±

- **è¡¨ç¤ºæ–‡å­—**: ãƒªãƒ¼ãƒ€ãƒ¼`S`ã€ä»²é–“`s`
- **è‰²**: ãƒªãƒ¼ãƒ€ãƒ¼`green`ã€ä»²é–“`light_green`
- **åŸºæœ¬ç‚¹æ•°**: ãƒªãƒ¼ãƒ€ãƒ¼ 360 ç‚¹ã€ä»²é–“ã¯ç ´å£Šä¸èƒ½
- **ç§»å‹•é€Ÿåº¦**: ãƒªãƒ¼ãƒ€ãƒ¼ 48 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”ã€ä»²é–“ 16 ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”
- **è„…å¨åº¦**: HIGH (é›†å›£ç®¡ç†è¦æ±‚)

### å‹å®šç¾©

```typescript
interface SwarmEnemy extends BaseEnemy {
  type: EnemyType.SWARM;
  swarmSize: number; // ç¾¤ã‚Œå…¨ä½“ã®ã‚µã‚¤ã‚º
  isLeader: boolean; // ç¾¤ã‚Œã®ãƒªãƒ¼ãƒ€ãƒ¼ã‹ã©ã†ã‹
  leaderPosition: Position | null; // ãƒªãƒ¼ãƒ€ãƒ¼ã®ä½ç½®ï¼ˆä»²é–“ç”¨ï¼‰
  leaderId: string | null; // ãƒªãƒ¼ãƒ€ãƒ¼ã®IDï¼ˆä»²é–“ç”¨ï¼‰
  formationOffset: Position; // ç·¨éšŠå†…ã®ç›¸å¯¾ä½ç½®
  swarmId: string; // ç¾¤ã‚ŒIDï¼ˆåŒã˜ç¾¤ã‚Œã®è­˜åˆ¥ç”¨ï¼‰
  leadershipScore: number; // ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚¹ã‚³ã‚¢ï¼ˆæœªä½¿ç”¨ã€å°†æ¥æ‹¡å¼µç”¨ï¼‰
  cohesionStrength: number; // çµæŸåŠ›ï¼ˆ0.0-1.0ï¼‰
  formationType: "diamond" | "line" | "circle" | "v_formation"; // ç·¨éšŠã‚¿ã‚¤ãƒ—
  maxDistanceFromLeader: number; // ãƒªãƒ¼ãƒ€ãƒ¼ã‹ã‚‰ã®æœ€å¤§è·é›¢
  followDelay: number; // è¿½å¾“é…å»¶ãƒ•ãƒ¬ãƒ¼ãƒ æ•°
  lastLeaderPosition: Position | null; // ãƒªãƒ¼ãƒ€ãƒ¼ã®å‰å›ä½ç½®
  separationTimer: number; // åˆ†é›¢ã‚¿ã‚¤ãƒãƒ¼
  reunionTimer: number; // å†çµåˆã‚¿ã‚¤ãƒãƒ¼
  isSeparated: boolean; // åˆ†é›¢çŠ¶æ…‹ãƒ•ãƒ©ã‚°
  isReuniting: boolean; // å†çµåˆä¸­ãƒ•ãƒ©ã‚°
}

const SWARM_CONFIG: EnemyConfig = {
  displayChar: "S", // ãƒªãƒ¼ãƒ€ãƒ¼
  followerChar: "s", // ä»²é–“
  color: "green", // ãƒªãƒ¼ãƒ€ãƒ¼
  followerColor: "light_green", // ä»²é–“
  baseScore: 150, // ãƒªãƒ¼ãƒ€ãƒ¼ã®ã¿
  followerScore: 0, // ä»²é–“ã¯å€‹åˆ¥ã‚¹ã‚³ã‚¢ãªã—
  groupDestroyBonus: 200, // ç¾¤ã‚Œå…¨ä½“ç ´å£Šãƒœãƒ¼ãƒŠã‚¹
  moveInterval: 48, // ãƒªãƒ¼ãƒ€ãƒ¼
  followerMoveInterval: 24, // ä»²é–“ï¼ˆã‚ˆã‚Šé€Ÿã„ï¼‰
  spawnWeight: 12,
  maxCount: 2, // æœ€å¤§2ã¤ã®ç¾¤ã‚Œ
  maxSwarmSize: 4, // 1ã¤ã®ç¾¤ã‚Œã®æœ€å¤§ã‚µã‚¤ã‚ºï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å«ã‚€ï¼‰
  threatLevel: ThreatLevel.HIGH,
  learningObjective: "é›†å›£æˆ¦è¡“ã¨å¤§å±€çš„åˆ¤æ–­ã€å„ªå…ˆé †ä½ä»˜ã‘ã‚’èº«ã«ã¤ã‘ã‚‹",
  counterStrategies: [
    "ãƒªãƒ¼ãƒ€ãƒ¼ã‚’å„ªå…ˆçš„ã«æ’ƒç ´ã—ã¦ç¾¤ã‚Œã‚’ç„¡åŠ›åŒ–",
    "ç¾¤ã‚Œã‚’åˆ†æ•£ã•ã›ã¦å€‹åˆ¥ã«å¯¾å‡¦",
    "ç¾¤ã‚Œå…¨ä½“ã‚’ä¸€åº¦ã«å›²ã„è¾¼ã‚“ã§é«˜å¾—ç‚¹ã‚’ç‹™ã†",
    "ä»²é–“ã‚’å…ˆã«æ’ƒç ´ã—ã¦ãƒªãƒ¼ãƒ€ãƒ¼ã‚’å­¤ç«‹ã•ã›ã‚‹",
  ],
};

const SWARM_BEHAVIOR_CONFIG = {
  // ç·¨éšŠè¨­å®š
  formationTypes: ["diamond", "line", "circle", "v_formation"],
  defaultFormation: "diamond",
  formationTightness: 1.5, // ç·¨éšŠã®å¯†é›†åº¦

  // è¿½å¾“è¨­å®š
  maxDistanceFromLeader: 4, // ãƒªãƒ¼ãƒ€ãƒ¼ã‹ã‚‰ã®æœ€å¤§è·é›¢
  followDelay: 8, // è¿½å¾“é…å»¶ãƒ•ãƒ¬ãƒ¼ãƒ æ•°
  cohesionStrength: 0.8, // çµæŸåŠ›

  // åˆ†é›¢ãƒ»å†çµåˆè¨­å®š
  separationThreshold: 6, // åˆ†é›¢åˆ¤å®šè·é›¢
  separationTimeout: 180, // 3ç§’ã§åˆ†é›¢çŠ¶æ…‹
  reunionRange: 8, // å†çµåˆç¯„å›²
  reunionTimeout: 300, // 5ç§’ã§å†çµåˆè©¦è¡Œ

  // ç§»å‹•è¨­å®š
  leaderMoveInterval: 48,
  followerMoveInterval: 24,
  leaderDirectionChangeChance: 0.15,
  followerCatchupSpeedMultiplier: 1.5, // é…ã‚ŒãŸæ™‚ã®è¿½ã„ã¤ãé€Ÿåº¦

  // ã‚¹ãƒãƒ¼ãƒ³è¨­å®š
  spawnFormationRadius: 2, // ã‚¹ãƒãƒ¼ãƒ³æ™‚ã®ç·¨éšŠåŠå¾„
  initialCohesionStrength: 1.0,
};
```

---

## å“è³ªä¿è¨¼

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

1. **å˜ä½“ãƒ†ã‚¹ãƒˆ**: å„æ•µã‚¿ã‚¤ãƒ—ã®å€‹åˆ¥æ©Ÿèƒ½
2. **çµ±åˆãƒ†ã‚¹ãƒˆ**: æ•µåŒå£«ã®ç›¸äº’ä½œç”¨
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: å¤§é‡æ•µå‡ºç¾æ™‚ã®å‹•ä½œ
4. **ãƒãƒ©ãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã®é›£æ˜“åº¦èª¿æ•´
5. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“ã®è©•ä¾¡

### ç¶™ç¶šçš„æ”¹å–„

- ãƒ—ãƒ¬ã‚¤ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†
- ãƒ¡ãƒˆãƒªã‚¯ã‚¹åˆ†æã«ã‚ˆã‚‹æœ€é©åŒ–
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¡Œå‹•ãƒ‡ãƒ¼ã‚¿ã®åˆ†æ
- ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ã®ç¶™ç¶šçš„å®Ÿæ–½

ã“ã®æ”¹å–„ç‰ˆä»•æ§˜æ›¸ã«ã‚ˆã‚Šã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’é‡è¦–ã—ãŸã€å­¦ç¿’æ›²ç·šãŒæœ€é©åŒ–ã•ã‚ŒãŸæ•µã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

---

# ãƒ¬ãƒ™ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ã‚¹ãƒãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜ï¼ˆç°¡æ˜“ç‰ˆï¼‰

## æ¦‚è¦

Blasnake ã®æ•µã‚¹ãƒãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªæ®µéšçš„é€²è¡Œã‚’åŸºæœ¬ã¨ã—ã¾ã™ï¼š

1. **æ–°æ•µå°å…¥** â†’ 2. **æ··åˆæˆ¦é—˜** â†’ 3. **æ¬¡ã®æ–°æ•µå°å…¥** ã®ã‚µã‚¤ã‚¯ãƒ«

## åŸºæœ¬è¨­è¨ˆç†å¿µ

### ã‚·ãƒ³ãƒ—ãƒ«ãªå­¦ç¿’æ›²ç·š

- ä¸€åº¦ã« 1 ã¤ã®æ–°ã—ã„æ•µã‚¿ã‚¤ãƒ—ã‚’å°å…¥
- æ…£ã‚ŒãŸã‚‰ 2-3 ç¨®é¡ã®æ··åˆæˆ¦é—˜
- æ®µéšçš„ã«è¤‡é›‘ã•ã‚’å¢—åŠ 

### å®Ÿè£…ã®ç°¡æ½”æ€§

- è¤‡é›‘ãªæ¡ä»¶åˆ†å²ã‚’é¿ã‘ã‚‹
- æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®å˜ç´”ãªé€²è¡Œ
- äºˆæ¸¬å¯èƒ½ãªæ•µå‡ºç¾ãƒ‘ã‚¿ãƒ¼ãƒ³

## å‹å®šç¾©ã‚·ã‚¹ãƒ†ãƒ 

### ç°¡æ˜“ã‚¹ãƒãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

```typescript
// ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ãƒ™ãƒ«å®šç¾©
interface SimpleLevel {
  id: number;
  name: string;
  timeThreshold: number; // ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚
  duration: number; // ãƒ¬ãƒ™ãƒ«æŒç¶šæ™‚é–“ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ æ•°ï¼‰
  enemyTypes: EnemyType[]; // å‡ºç¾ã™ã‚‹æ•µã‚¿ã‚¤ãƒ—
  spawnPattern: SimpleSpawnPattern;
}

interface SimpleSpawnPattern {
  enemyType: EnemyType;
  count: number; // åŒæ™‚å‡ºç¾æ•°
  interval: number; // ã‚¹ãƒãƒ¼ãƒ³é–“éš”ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ æ•°ï¼‰
  maxTotal: number; // æœ€å¤§ç·æ•°
}

// ãƒ¬ãƒ™ãƒ«é€²è¡Œç®¡ç†
interface SimpleLevelManager {
  currentLevel: number;
  levels: SimpleLevel[];
  nextLevelScore: number;
}
```

## ãƒ¬ãƒ™ãƒ«é€²è¡Œã‚·ã‚¹ãƒ†ãƒ 

### ãƒ¬ãƒ™ãƒ« 1-20 ã®å®šç¾©ï¼ˆå…¨æ•µã‚¿ã‚¤ãƒ—å°å…¥ï¼‰

```typescript
const SIMPLE_LEVELS: SimpleLevel[] = [
  // ãƒ¬ãƒ™ãƒ«1: ãƒ¯ãƒ³ãƒ€ãƒ©ãƒ¼å°å…¥ï¼ˆç°¡å˜ï¼‰
  {
    id: 1,
    name: "åŸºæœ¬è¨“ç·´",
    timeThreshold: 0, // ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚
    duration: 20, // 20ç§’
    enemyTypes: [EnemyType.WANDERER],
    spawnPattern: {
      enemyType: EnemyType.WANDERER,
      count: 3,
      interval: 600, // 10ç§’é–“éš”
      maxTotal: 6, // 6åŒ¹ã«å¢—åŠ 
    },
  },

  // ãƒ¬ãƒ™ãƒ«2: ã‚¬ãƒ¼ãƒ‰å°å…¥ï¼ˆç°¡å˜ï¼‰
  {
    id: 2,
    name: "å®ˆè­·è€…ç™»å ´",
    timeThreshold: 20,
    duration: 20,
    enemyTypes: [EnemyType.GUARD],
    spawnPattern: {
      enemyType: EnemyType.GUARD,
      count: 1,
      interval: 900, // 15ç§’é–“éš”
      maxTotal: 3, // 3åŒ¹ã«å¢—åŠ 
    },
  },

  // ãƒ¬ãƒ™ãƒ«3: ãƒ¯ãƒ³ãƒ€ãƒ©ãƒ¼ + ã‚¬ãƒ¼ãƒ‰æ··åˆï¼ˆæ¨™æº–çš„é›£æ˜“åº¦ã«è¿‘ã¥ãï¼‰
  {
    id: 3,
    name: "æ··åˆæˆ¦é—˜I",
    timeThreshold: 40,
    duration: 20,
    enemyTypes: [EnemyType.WANDERER, EnemyType.GUARD],
    spawnPattern: {
      enemyType: EnemyType.WANDERER, // ãƒ¡ã‚¤ãƒ³
      count: 2,
      interval: 480, // 8ç§’é–“éš”
      maxTotal: 7, // 7åŒ¹ã«å¢—åŠ ï¼ˆãƒ¯ãƒ³ãƒ€ãƒ©ãƒ¼ä¸­å¿ƒï¼‰
    },
  },

  // ãƒ¬ãƒ™ãƒ«4: ãƒã‚§ã‚¤ã‚µãƒ¼å°å…¥ï¼ˆæ¨™æº–çš„é›£æ˜“åº¦ï¼‰
  {
    id: 4,
    name: "è¿½è·¡è€…ç™»å ´",
    timeThreshold: 60,
    duration: 20,
    enemyTypes: [EnemyType.CHASER],
    spawnPattern: {
      enemyType: EnemyType.CHASER,
      count: 1,
      interval: 720, // 12ç§’é–“éš”
      maxTotal: 2, // 2åŒ¹ã«æ¸›å°‘ï¼ˆå¼·åŠ›ãªæ•µï¼‰
    },
  },

  // ãƒ¬ãƒ™ãƒ«5: ãƒ¯ãƒ³ãƒ€ãƒ©ãƒ¼ + ãƒã‚§ã‚¤ã‚µãƒ¼æ··åˆï¼ˆæ¨™æº–çš„é›£æ˜“åº¦ï¼‰
  {
    id: 5,
    name: "æ··åˆæˆ¦é—˜II",
    timeThreshold: 80,
    duration: 20,
    enemyTypes: [EnemyType.WANDERER, EnemyType.CHASER],
    spawnPattern: {
      enemyType: EnemyType.WANDERER,
      count: 2,
      interval: 420, // 7ç§’é–“éš”
      maxTotal: 8, // 8åŒ¹ã«å¢—åŠ 
    },
  },

  // ãƒ¬ãƒ™ãƒ«6: ã‚¹ãƒ—ãƒªãƒƒã‚¿ãƒ¼å°å…¥ï¼ˆæ¨™æº–çš„é›£æ˜“åº¦ï¼‰
  {
    id: 6,
    name: "åˆ†è£‚è€…ç™»å ´",
    timeThreshold: 100,
    duration: 20,
    enemyTypes: [EnemyType.SPLITTER],
    spawnPattern: {
      enemyType: EnemyType.SPLITTER,
      count: 1,
      interval: 900, // 15ç§’é–“éš”
      maxTotal: 3, // 3åŒ¹ã«å¢—åŠ 
    },
  },

  // ãƒ¬ãƒ™ãƒ«7: 3ç¨®æ··åˆæˆ¦é—˜ï¼ˆæ¨™æº–çš„é›£æ˜“åº¦ã‚’è¶…ãˆã‚‹ï¼‰
  {
    id: 7,
    name: "æ··åˆæˆ¦é—˜III",
    timeThreshold: 120,
    duration: 20,
    enemyTypes: [EnemyType.WANDERER, EnemyType.CHASER, EnemyType.SPLITTER],
    spawnPattern: {
      enemyType: EnemyType.WANDERER,
      count: 1,
      interval: 360, // 6ç§’é–“éš”
      maxTotal: 10, // 10åŒ¹ï¼ˆæ¨™æº–çš„é›£æ˜“åº¦ï¼‰
    },
  },

  // ãƒ¬ãƒ™ãƒ«8: ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¹ã‚¿ãƒ¼å°å…¥ï¼ˆé›£æ˜“åº¦ä¸Šæ˜‡ï¼‰
  {
    id: 8,
    name: "é«˜é€Ÿæˆ¦é—˜",
    timeThreshold: 140,
    duration: 20,
    enemyTypes: [EnemyType.SPEEDSTER],
    spawnPattern: {
      enemyType: EnemyType.SPEEDSTER,
      count: 1,
      interval: 1080, // 18ç§’é–“éš”
      maxTotal: 2, // 2åŒ¹ã«æ¸›å°‘ï¼ˆå¼·åŠ›ãªæ•µï¼‰
    },
  },

  // ãƒ¬ãƒ™ãƒ«9: ãƒŸãƒŸãƒƒã‚¯å°å…¥ï¼ˆé›£æ˜“åº¦ä¸Šæ˜‡ï¼‰
  {
    id: 9,
    name: "æ¨¡å€£è€…ç™»å ´",
    timeThreshold: 160,
    duration: 20,
    enemyTypes: [EnemyType.MIMIC],
    spawnPattern: {
      enemyType: EnemyType.MIMIC,
      count: 1,
      interval: 1200, // 20ç§’é–“éš”
      maxTotal: 2, // 2åŒ¹ã«å¢—åŠ 
    },
  },

  // ãƒ¬ãƒ™ãƒ«10: ã‚¹ãƒãƒ¼ã‚¯å°å…¥ï¼ˆé›£æ˜“åº¦ä¸Šæ˜‡ï¼‰
  {
    id: 10,
    name: "ã‚¹ãƒãƒ¼ã‚¯ç™»å ´",
    timeThreshold: 180,
    duration: 20,
    enemyTypes: [EnemyType.SNAKE],
    spawnPattern: {
      enemyType: EnemyType.SNAKE,
      count: 1,
      interval: 1500, // 25ç§’é–“éš”
      maxTotal: 2, // 2åŒ¹ã«æ¸›å°‘ï¼ˆå¼·åŠ›ãªæ•µï¼‰
    },
  },

  // ãƒ¬ãƒ™ãƒ«11: ã‚¦ã‚©ãƒ¼ãƒ«ã‚¯ãƒªãƒ¼ãƒ‘ãƒ¼å°å…¥ï¼ˆé›£æ˜“åº¦ä¸Šæ˜‡ï¼‰
  {
    id: 11,
    name: "å£é€™ã„ç™»å ´",
    timeThreshold: 200,
    duration: 20,
    enemyTypes: [EnemyType.WALL_CREEPER],
    spawnPattern: {
      enemyType: EnemyType.WALL_CREEPER,
      count: 1,
      interval: 900, // 15ç§’é–“éš”
      maxTotal: 4, // 4åŒ¹ã«å¢—åŠ 
    },
  },

  // ãƒ¬ãƒ™ãƒ«12: ã‚´ãƒ¼ã‚¹ãƒˆå°å…¥ï¼ˆé›£æ˜“åº¦ä¸Šæ˜‡ï¼‰
  {
    id: 12,
    name: "å¹½éœŠç™»å ´",
    timeThreshold: 220,
    duration: 20,
    enemyTypes: [EnemyType.GHOST],
    spawnPattern: {
      enemyType: EnemyType.GHOST,
      count: 1,
      interval: 1800, // 30ç§’é–“éš”
      maxTotal: 3, // 3åŒ¹ã«å¢—åŠ 
    },
  },

  // ãƒ¬ãƒ™ãƒ«13: ã‚¹ãƒ¯ãƒ¼ãƒ å°å…¥ï¼ˆé›£æ˜“åº¦ä¸Šæ˜‡ï¼‰
  {
    id: 13,
    name: "ç¾¤ã‚Œç™»å ´",
    timeThreshold: 240,
    duration: 20,
    enemyTypes: [EnemyType.SWARM],
    spawnPattern: {
      enemyType: EnemyType.SWARM,
      count: 4, // ãƒªãƒ¼ãƒ€ãƒ¼1 + ä»²é–“3
      interval: 1200, // 20ç§’é–“éš”
      maxTotal: 4, // 4åŒ¹ã«æ¸›å°‘ï¼ˆå¼·åŠ›ãªæ•µã€1ã‚°ãƒ«ãƒ¼ãƒ—ã®ã¿ï¼‰
    },
  },

  // ãƒ¬ãƒ™ãƒ«14-19: é«˜é›£æ˜“åº¦æ··åˆæˆ¦é—˜
  {
    id: 14,
    name: "æ··åˆæˆ¦é—˜IV",
    timeThreshold: 260,
    duration: 20,
    enemyTypes: [EnemyType.CHASER, EnemyType.SPLITTER, EnemyType.SPEEDSTER],
    spawnPattern: {
      enemyType: EnemyType.CHASER,
      count: 1,
      interval: 300, // 5ç§’é–“éš”
      maxTotal: 10, // 10åŒ¹ã«æ¸›å°‘ï¼ˆå¼·åŠ›ãªæ•µãŒå¤šã„ãŸã‚ï¼‰
    },
  },

  {
    id: 15,
    name: "æ··åˆæˆ¦é—˜V",
    timeThreshold: 280,
    duration: 20,
    enemyTypes: [EnemyType.MIMIC, EnemyType.SNAKE, EnemyType.WALL_CREEPER],
    spawnPattern: {
      enemyType: EnemyType.WALL_CREEPER,
      count: 1,
      interval: 360, // 6ç§’é–“éš”
      maxTotal: 11, // 11åŒ¹ã«æ¸›å°‘ï¼ˆã‚¹ãƒãƒ¼ã‚¯ãŒå¼·åŠ›ãªãŸã‚ï¼‰
    },
  },

  {
    id: 16,
    name: "æ··åˆæˆ¦é—˜VI",
    timeThreshold: 300,
    duration: 20,
    enemyTypes: [EnemyType.GHOST, EnemyType.SWARM, EnemyType.SPEEDSTER],
    spawnPattern: {
      enemyType: EnemyType.SPEEDSTER,
      count: 1,
      interval: 300, // 5ç§’é–“éš”
      maxTotal: 10, // 10åŒ¹ã«æ¸›å°‘ï¼ˆã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒ»ã‚¹ãƒ¯ãƒ¼ãƒ ãŒå¼·åŠ›ãªãŸã‚ï¼‰
    },
  },

  {
    id: 17,
    name: "æ··åˆæˆ¦é—˜VII",
    timeThreshold: 320,
    duration: 20,
    enemyTypes: [
      EnemyType.WANDERER,
      EnemyType.CHASER,
      EnemyType.SPLITTER,
      EnemyType.MIMIC,
    ],
    spawnPattern: {
      enemyType: EnemyType.WANDERER,
      count: 1,
      interval: 240, // 4ç§’é–“éš”
      maxTotal: 12, // 12åŒ¹ã«æ¸›å°‘ï¼ˆãƒã‚§ã‚¤ã‚µãƒ¼ãŒå¼·åŠ›ãªãŸã‚ï¼‰
    },
  },

  {
    id: 18,
    name: "æ··åˆæˆ¦é—˜VIII",
    timeThreshold: 340,
    duration: 20,
    enemyTypes: [
      EnemyType.SNAKE,
      EnemyType.WALL_CREEPER,
      EnemyType.GHOST,
      EnemyType.SWARM,
    ],
    spawnPattern: {
      enemyType: EnemyType.WALL_CREEPER,
      count: 1,
      interval: 240, // 4ç§’é–“éš”
      maxTotal: 11, // 11åŒ¹ã«æ¸›å°‘ï¼ˆã‚¹ãƒãƒ¼ã‚¯ãƒ»ã‚¹ãƒ¯ãƒ¼ãƒ ãŒå¼·åŠ›ãªãŸã‚ï¼‰
    },
  },

  {
    id: 19,
    name: "æœ€çµ‚è©¦ç·´",
    timeThreshold: 360,
    duration: 20,
    enemyTypes: [
      EnemyType.CHASER,
      EnemyType.SPEEDSTER,
      EnemyType.MIMIC,
      EnemyType.SNAKE,
      EnemyType.GHOST,
    ],
    spawnPattern: {
      enemyType: EnemyType.CHASER,
      count: 1,
      interval: 180, // 3ç§’é–“éš”
      maxTotal: 12, // 12åŒ¹ã«æ¸›å°‘ï¼ˆå¼·åŠ›ãªæ•µã°ã‹ã‚Šã®ãŸã‚ï¼‰
    },
  },

  {
    id: 20,
    name: "å…¨æ•µçµ±åˆ",
    timeThreshold: 380,
    duration: 20,
    enemyTypes: [
      EnemyType.WANDERER,
      EnemyType.GUARD,
      EnemyType.CHASER,
      EnemyType.SPLITTER,
      EnemyType.SPEEDSTER,
      EnemyType.MIMIC,
      EnemyType.SNAKE,
      EnemyType.WALL_CREEPER,
      EnemyType.GHOST,
      EnemyType.SWARM,
    ],
    spawnPattern: {
      enemyType: EnemyType.WANDERER,
      count: 1,
      interval: 180, // 3ç§’é–“éš”
      maxTotal: 15, // 15åŒ¹ã«æ¸›å°‘ï¼ˆå¼·åŠ›ãªæ•µã‚‚å«ã‚€ãŸã‚ï¼‰
    },
  },
];
```

## å®Ÿè£…ã‚¯ãƒ©ã‚¹

### æ‹¡å¼µãƒ¬ãƒ™ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¹ãƒãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼‰

```typescript
class SimpleLevelManager {
  private currentLevel: number = 1;
  private levels: SimpleLevel[] = SIMPLE_LEVELS;
  private gameStartTime: number;
  private isEndlessMode: boolean = false;
  private endlessMultiplier: number = 1.0;
  private lastEndlessLevelTime: number = 0;
  private currentEndlessLevel: SimpleLevel | null = null;

  constructor() {
    this.gameStartTime = Date.now();
  }

  public getCurrentLevel(): SimpleLevel {
    if (this.isEndlessMode && this.currentEndlessLevel) {
      return this.currentEndlessLevel;
    }
    return this.levels[this.currentLevel - 1];
  }

  public update(): boolean {
    const gameTimeSeconds = this.getGameTimeSeconds();

    if (!this.isEndlessMode) {
      // é€šå¸¸ãƒ¬ãƒ™ãƒ«é€²è¡Œ
      return this.checkLevelUp(gameTimeSeconds);
    } else {
      // ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰
      return this.updateEndlessMode(gameTimeSeconds);
    }
  }

  private checkLevelUp(gameTimeSeconds: number): boolean {
    const nextLevel = this.levels[this.currentLevel];

    if (nextLevel && gameTimeSeconds >= nextLevel.timeThreshold) {
      this.currentLevel++;
      console.log(`Level Up! Now at level ${this.currentLevel}`);
      return true;
    }

    // å…¨ãƒ¬ãƒ™ãƒ«å®Œäº†å¾Œã€ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰é–‹å§‹
    if (this.currentLevel > this.levels.length && !this.isEndlessMode) {
      this.startEndlessMode();
      return true;
    }

    return false;
  }

  private startEndlessMode(): void {
    this.isEndlessMode = true;
    this.endlessMultiplier = 1.0;
    this.lastEndlessLevelTime = this.getGameTimeSeconds();
    this.selectRandomEndlessLevel();
    console.log("ğŸ”„ Endless Mode Started!");
  }

  private updateEndlessMode(gameTimeSeconds: number): boolean {
    // 20ç§’ã”ã¨ã«æ–°ã—ã„ãƒ©ãƒ³ãƒ€ãƒ ãƒ¬ãƒ™ãƒ«ï¼ˆ30ç§’ã‹ã‚‰20ç§’ã«å¤‰æ›´ï¼‰
    if (gameTimeSeconds - this.lastEndlessLevelTime >= 20) {
      this.endlessMultiplier += 0.2; // 20%ãšã¤é›£æ˜“åº¦ä¸Šæ˜‡
      this.lastEndlessLevelTime = gameTimeSeconds;
      this.selectRandomEndlessLevel();
      console.log(
        `ğŸ”„ Endless Level Change! Multiplier: ${this.endlessMultiplier.toFixed(
          1
        )}`
      );
      return true;
    }
    return false;
  }

  private selectRandomEndlessLevel(): void {
    // ãƒ¬ãƒ™ãƒ«3ä»¥é™ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ é¸æŠï¼ˆåŸºæœ¬æ•µã®ã¿ã®ãƒ¬ãƒ™ãƒ«ã‚’é¿ã‘ã‚‹ï¼‰
    const availableLevels = this.levels.slice(2); // ãƒ¬ãƒ™ãƒ«3ä»¥é™
    const randomIndex = Math.floor(Math.random() * availableLevels.length);
    const baseLevel = availableLevels[randomIndex];

    // ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ç”¨ã«èª¿æ•´ã•ã‚ŒãŸãƒ¬ãƒ™ãƒ«
    this.currentEndlessLevel = {
      ...baseLevel,
      id: 999, // ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹è­˜åˆ¥ç”¨
      name: `${baseLevel.name} (Endless x${this.endlessMultiplier.toFixed(1)})`,
      timeThreshold: 0,
      duration: 30,
      spawnPattern: {
        ...baseLevel.spawnPattern,
        count: Math.floor(
          baseLevel.spawnPattern.count * this.endlessMultiplier
        ),
        maxTotal: Math.floor(
          baseLevel.spawnPattern.maxTotal * this.endlessMultiplier
        ),
        interval: Math.max(
          Math.floor(baseLevel.spawnPattern.interval / this.endlessMultiplier),
          60 // æœ€å°1ç§’é–“éš”
        ),
      },
    };
  }

  // ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¹ãƒãƒ¼ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼šæœ€å°æ•°ç¶­æŒ + ãƒ¬ãƒ™ãƒ«è¨­è¨ˆ + å‹•çš„é–“éš”èª¿æ•´
  public shouldSpawnEnemy(
    enemyType: EnemyType,
    currentCount: number,
    totalEnemyCount: number,
    framesSinceLastSpawn: number
  ): SpawnDecision {
    const level = this.getCurrentLevel();

    // 1. ã“ã®ãƒ¬ãƒ™ãƒ«ã§å‡ºç¾ã—ãªã„æ•µã‚¿ã‚¤ãƒ—ã¯ã‚¹ã‚­ãƒƒãƒ—
    if (!level.enemyTypes.includes(enemyType)) {
      return { shouldSpawn: false, reason: "not_in_level" };
    }

    // 2. ç·Šæ€¥ã‚¹ãƒãƒ¼ãƒ³åˆ¤å®šï¼ˆç¾åœ¨ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ¡ç”¨ï¼‰
    const minEnemyCount = Math.max(
      2,
      Math.floor(level.spawnPattern.maxTotal * 0.4)
    );
    const isEmergencySpawn = totalEnemyCount < minEnemyCount;

    if (isEmergencySpawn) {
      // ç·Šæ€¥æ™‚ã¯å‹•çš„é–“éš”ã§ã‚¹ãƒãƒ¼ãƒ³ï¼ˆé›£æ˜“åº¦ã«å¿œã˜ã¦èª¿æ•´ï¼‰
      const emergencyInterval = this.calculateEmergencyInterval();
      if (framesSinceLastSpawn >= emergencyInterval) {
        return {
          shouldSpawn: true,
          reason: "emergency_spawn",
          isEmergency: true,
          interval: emergencyInterval,
        };
      }
    }

    // 3. é€šå¸¸ã‚¹ãƒãƒ¼ãƒ³åˆ¤å®š
    // æœ€å¤§æ•°ãƒã‚§ãƒƒã‚¯ï¼ˆæ•µã‚¿ã‚¤ãƒ—åˆ¥ã®ä¸Šé™ï¼‰
    if (currentCount >= level.spawnPattern.maxTotal) {
      return { shouldSpawn: false, reason: "max_count_reached" };
    }

    // ã‚¹ãƒãƒ¼ãƒ³é–“éš”ãƒã‚§ãƒƒã‚¯ï¼ˆæ•µã‚¿ã‚¤ãƒ—åˆ¥ã®é–“éš” + é›£æ˜“åº¦èª¿æ•´ï¼‰
    const adjustedInterval = this.calculateNormalInterval(
      level.spawnPattern.interval
    );
    if (framesSinceLastSpawn < adjustedInterval) {
      return { shouldSpawn: false, reason: "interval_not_met" };
    }

    return {
      shouldSpawn: true,
      reason: "normal_spawn",
      isEmergency: false,
      interval: adjustedInterval,
    };
  }

  // ç·Šæ€¥ã‚¹ãƒãƒ¼ãƒ³é–“éš”ã®å‹•çš„è¨ˆç®—
  private calculateEmergencyInterval(): number {
    const baseEmergencyInterval = 180; // åŸºæœ¬3ç§’é–“éš”

    if (this.isEndlessMode) {
      // ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§ã¯é›£æ˜“åº¦å€ç‡ã«å¿œã˜ã¦çŸ­ç¸®
      const adjustedInterval = Math.max(
        Math.floor(baseEmergencyInterval / this.endlessMultiplier),
        60 // æœ€å°1ç§’é–“éš”
      );
      return adjustedInterval;
    } else {
      // é€šå¸¸ãƒ¬ãƒ™ãƒ«ã§ã¯æ®µéšçš„ã«çŸ­ç¸®
      const levelDifficultyMultiplier = this.getLevelDifficultyMultiplier();
      const adjustedInterval = Math.max(
        Math.floor(baseEmergencyInterval / levelDifficultyMultiplier),
        90 // æœ€å°1.5ç§’é–“éš”ï¼ˆé€šå¸¸ãƒ¬ãƒ™ãƒ«ã§ã¯ç·©ã‚„ã‹ï¼‰
      );
      return adjustedInterval;
    }
  }

  // é€šå¸¸ã‚¹ãƒãƒ¼ãƒ³é–“éš”ã®å‹•çš„è¨ˆç®—
  private calculateNormalInterval(baseInterval: number): number {
    if (this.isEndlessMode) {
      // ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§ã¯é›£æ˜“åº¦å€ç‡ã«å¿œã˜ã¦çŸ­ç¸®
      const adjustedInterval = Math.max(
        Math.floor(baseInterval / this.endlessMultiplier),
        120 // æœ€å°2ç§’é–“éš”
      );
      return adjustedInterval;
    } else {
      // é€šå¸¸ãƒ¬ãƒ™ãƒ«ã§ã¯æ®µéšçš„ã«çŸ­ç¸®
      const levelDifficultyMultiplier = this.getLevelDifficultyMultiplier();
      const adjustedInterval = Math.max(
        Math.floor(baseInterval / levelDifficultyMultiplier),
        180 // æœ€å°3ç§’é–“éš”ï¼ˆé€šå¸¸ãƒ¬ãƒ™ãƒ«ã§ã¯ç·©ã‚„ã‹ï¼‰
      );
      return adjustedInterval;
    }
  }

  // ãƒ¬ãƒ™ãƒ«é›£æ˜“åº¦å€ç‡ã®è¨ˆç®—
  private getLevelDifficultyMultiplier(): number {
    // ãƒ¬ãƒ™ãƒ«1-5: 1.0å€ï¼ˆåŸºæœ¬ï¼‰
    // ãƒ¬ãƒ™ãƒ«6-10: 1.1å€
    // ãƒ¬ãƒ™ãƒ«11-15: 1.2å€
    // ãƒ¬ãƒ™ãƒ«16-20: 1.3å€
    if (this.currentLevel <= 5) {
      return 1.0;
    } else if (this.currentLevel <= 10) {
      return 1.1;
    } else if (this.currentLevel <= 15) {
      return 1.2;
    } else {
      return 1.3;
    }
  }

  public getGameTimeSeconds(): number {
    return (Date.now() - this.gameStartTime) / 1000;
  }

  public isInEndlessMode(): boolean {
    return this.isEndlessMode;
  }

  public getEndlessMultiplier(): number {
    return this.endlessMultiplier;
  }

  // ãƒ‡ãƒãƒƒã‚°ç”¨ï¼šç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«çŠ¶æ…‹ã‚’å–å¾—
  public getDebugInfo(): any {
    const level = this.getCurrentLevel();
    return {
      currentLevel: this.currentLevel,
      isEndlessMode: this.isEndlessMode,
      endlessMultiplier: this.endlessMultiplier,
      levelDifficultyMultiplier: this.getLevelDifficultyMultiplier(),
      gameTimeSeconds: this.getGameTimeSeconds(),
      levelName: level.name,
      levelEnemyTypes: level.enemyTypes,
      spawnPattern: level.spawnPattern,
      emergencyInterval: this.calculateEmergencyInterval(),
      normalInterval: this.calculateNormalInterval(level.spawnPattern.interval),
    };
  }
}

// ã‚¹ãƒãƒ¼ãƒ³åˆ¤å®šçµæœã®å‹å®šç¾©
interface SpawnDecision {
  shouldSpawn: boolean;
  reason: string;
  isEmergency?: boolean;
  interval?: number; // ä½¿ç”¨ã•ã‚ŒãŸé–“éš”ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
}
```

### core.ts ã¸ã®çµ±åˆï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ï¼‰

```typescript
// core.ts ã¸ã®è¿½åŠ å®Ÿè£…ä¾‹
class CoreGameLogic extends BaseGame {
  private levelManager: SimpleLevelManager;
  private lastSpawnTimes: Map<EnemyType, number> = new Map();
  private spawnTimer: number = 0; // å…¨ä½“ã‚¹ãƒãƒ¼ãƒ³ã‚¿ã‚¤ãƒãƒ¼

  constructor(options: BlasnakeGameOptions = {}) {
    super(options);
    this.levelManager = new SimpleLevelManager();
    // å„æ•µã‚¿ã‚¤ãƒ—ã®æœ€çµ‚ã‚¹ãƒãƒ¼ãƒ³æ™‚åˆ»ã‚’åˆæœŸåŒ–
    Object.values(EnemyType).forEach((type) => {
      this.lastSpawnTimes.set(type, 0);
    });
  }

  private updateEnemySpawning(): void {
    // ãƒ¬ãƒ™ãƒ«æ›´æ–°ãƒã‚§ãƒƒã‚¯ï¼ˆæ™‚é–“ãƒ™ãƒ¼ã‚¹ï¼‰
    if (this.levelManager.update()) {
      const currentLevel = this.levelManager.getCurrentLevel();
      console.log(`Current Level: ${currentLevel.name}`);

      if (this.levelManager.isInEndlessMode()) {
        console.log(
          `Endless Multiplier: ${this.levelManager.getEndlessMultiplier()}`
        );
      }
    }

    const currentLevel = this.levelManager.getCurrentLevel();
    const currentFrame = this.getGameTime();
    const totalEnemyCount = this.getTotalEnemyCount();

    // å„æ•µã‚¿ã‚¤ãƒ—ã®ã‚¹ãƒãƒ¼ãƒ³ãƒã‚§ãƒƒã‚¯
    for (const enemyType of currentLevel.enemyTypes) {
      const currentCount = this.getEnemyCount(enemyType);
      const lastSpawnTime = this.lastSpawnTimes.get(enemyType) || 0;
      const framesSinceLastSpawn = currentFrame - lastSpawnTime;

      const spawnDecision = this.levelManager.shouldSpawnEnemy(
        enemyType,
        currentCount,
        totalEnemyCount,
        framesSinceLastSpawn
      );

      if (spawnDecision.shouldSpawn) {
        this.spawnEnemyOfType(enemyType);
        this.lastSpawnTimes.set(enemyType, currentFrame);

        // ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°
        if (spawnDecision.isEmergency) {
          console.log(
            `ğŸš¨ Emergency spawn: ${enemyType} (total: ${totalEnemyCount})`
          );
        } else {
          console.log(
            `âœ¨ Normal spawn: ${enemyType} (${spawnDecision.reason})`
          );
        }
      }
    }
  }

  private getTotalEnemyCount(): number {
    return this.enemies.length; // ã¾ãŸã¯ this.enemySystem.getTotalEnemyCount()
  }

  private getEnemyCount(enemyType: EnemyType): number {
    return this.enemies.filter((enemy) => enemy.type === enemyType).length;
  }

  private spawnEnemyOfType(enemyType: EnemyType): void {
    const position = this.findValidSpawnPosition();
    if (position) {
      const enemy = this.createEnemyOfType(enemyType, position);
      this.enemies.push(enemy);
    }
  }

  // UIè¡¨ç¤ºç”¨ã®ãƒ¬ãƒ™ãƒ«æƒ…å ±å–å¾—
  public getCurrentLevelInfo(): string {
    const level = this.levelManager.getCurrentLevel();
    if (this.levelManager.isInEndlessMode()) {
      return `${level.name} (${this.levelManager
        .getEndlessMultiplier()
        .toFixed(1)}x)`;
    }
    return `Level ${level.id}: ${level.name}`;
  }

  // ãƒ‡ãƒãƒƒã‚°ç”¨ï¼šã‚¹ãƒãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹è¡¨ç¤º
  public getSpawnDebugInfo(): any {
    const levelInfo = this.levelManager.getDebugInfo();
    const enemyCounts: { [key: string]: number } = {};

    Object.values(EnemyType).forEach((type) => {
      enemyCounts[type] = this.getEnemyCount(type);
    });

    return {
      ...levelInfo,
      totalEnemies: this.getTotalEnemyCount(),
      enemyCounts,
      lastSpawnTimes: Object.fromEntries(this.lastSpawnTimes),
    };
  }
}
```

## ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¹ãƒãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®ç‰¹å¾´

### ğŸ”„ æœ€å°æ•°ç¶­æŒã‚·ã‚¹ãƒ†ãƒ ï¼ˆç¾åœ¨ã®ãƒ­ã‚¸ãƒƒã‚¯æ¡ç”¨ï¼‰

```typescript
// ç·Šæ€¥ã‚¹ãƒãƒ¼ãƒ³åˆ¤å®š
const minEnemyCount = Math.max(
  2,
  Math.floor(level.spawnPattern.maxTotal * 0.4)
);
const isEmergencySpawn = totalEnemyCount < minEnemyCount;

if (isEmergencySpawn) {
  // ç·Šæ€¥æ™‚ã¯å‹•çš„é–“éš”ã§ã‚¹ãƒãƒ¼ãƒ³ï¼ˆé›£æ˜“åº¦ã«å¿œã˜ã¦èª¿æ•´ï¼‰
  const emergencyInterval = this.calculateEmergencyInterval();
  if (framesSinceLastSpawn >= emergencyInterval) {
    return { shouldSpawn: true, reason: "emergency_spawn", isEmergency: true };
  }
}
```

### ğŸ¯ ãƒ¬ãƒ™ãƒ«è¨­è¨ˆã«ã‚ˆã‚‹åˆ¶å¾¡

- å„ãƒ¬ãƒ™ãƒ«ã§å‡ºç¾ã™ã‚‹æ•µã‚¿ã‚¤ãƒ—ã‚’åˆ¶é™
- æ•µã‚¿ã‚¤ãƒ—åˆ¥ã®æœ€å¤§æ•°ã¨é–“éš”ã‚’è¨­å®š
- æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ãƒ¬ãƒ™ãƒ«é€²è¡Œ

### âš–ï¸ å‹•çš„é–“éš”èª¿æ•´ã‚·ã‚¹ãƒ†ãƒ 

#### 1. **ãƒ¬ãƒ™ãƒ«é›£æ˜“åº¦å€ç‡**

```typescript
// ãƒ¬ãƒ™ãƒ«é€²è¡Œã«å¿œã˜ãŸæ®µéšçš„é›£æ˜“åº¦ä¸Šæ˜‡
private getLevelDifficultyMultiplier(): number {
  if (this.currentLevel <= 5) return 1.0;      // ãƒ¬ãƒ™ãƒ«1-5: åŸºæœ¬
  else if (this.currentLevel <= 10) return 1.1; // ãƒ¬ãƒ™ãƒ«6-10: 10%é«˜é€ŸåŒ–
  else if (this.currentLevel <= 15) return 1.2; // ãƒ¬ãƒ™ãƒ«11-15: 20%é«˜é€ŸåŒ–
  else return 1.3;                              // ãƒ¬ãƒ™ãƒ«16-20: 30%é«˜é€ŸåŒ–
}
```

#### 2. **ç·Šæ€¥ã‚¹ãƒãƒ¼ãƒ³é–“éš”ã®èª¿æ•´**

```typescript
// åŸºæœ¬3ç§’é–“éš”ã‹ã‚‰å‹•çš„ã«èª¿æ•´
private calculateEmergencyInterval(): number {
  const baseEmergencyInterval = 180; // åŸºæœ¬3ç§’é–“éš”

  if (this.isEndlessMode) {
    // ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹: 1.0x â†’ 1.2x â†’ 1.4x... ã«å¿œã˜ã¦çŸ­ç¸®
    return Math.max(
      Math.floor(baseEmergencyInterval / this.endlessMultiplier),
      60 // æœ€å°1ç§’é–“éš”
    );
  } else {
    // é€šå¸¸ãƒ¬ãƒ™ãƒ«: æ®µéšçš„ã«çŸ­ç¸®
    return Math.max(
      Math.floor(baseEmergencyInterval / this.getLevelDifficultyMultiplier()),
      90 // æœ€å°1.5ç§’é–“éš”ï¼ˆé€šå¸¸ãƒ¬ãƒ™ãƒ«ã§ã¯ç·©ã‚„ã‹ï¼‰
    );
  }
}
```

#### 3. **é€šå¸¸ã‚¹ãƒãƒ¼ãƒ³é–“éš”ã®èª¿æ•´**

```typescript
// ãƒ¬ãƒ™ãƒ«è¨­è¨ˆã®åŸºæœ¬é–“éš”ã‹ã‚‰å‹•çš„ã«èª¿æ•´
private calculateNormalInterval(baseInterval: number): number {
  if (this.isEndlessMode) {
    // ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹: ã‚ˆã‚Šç©æ¥µçš„ãªçŸ­ç¸®
    return Math.max(
      Math.floor(baseInterval / this.endlessMultiplier),
      120 // æœ€å°2ç§’é–“éš”
    );
  } else {
    // é€šå¸¸ãƒ¬ãƒ™ãƒ«: ç·©ã‚„ã‹ãªçŸ­ç¸®
    return Math.max(
      Math.floor(baseInterval / this.getLevelDifficultyMultiplier()),
      180 // æœ€å°3ç§’é–“éš”
    );
  }
}
```

### ğŸ“Š é–“éš”èª¿æ•´ã®å…·ä½“ä¾‹

#### ãƒ¬ãƒ™ãƒ« 3ï¼ˆãƒ¯ãƒ³ãƒ€ãƒ©ãƒ¼ + ã‚¬ãƒ¼ãƒ‰æ··åˆï¼‰

```
åŸºæœ¬è¨­å®š:
- maxTotal: 4, minEnemyCount: 2
- baseInterval: 480ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ8ç§’ï¼‰
- baseEmergencyInterval: 180ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ3ç§’ï¼‰

ãƒ¬ãƒ™ãƒ«3ã§ã®èª¿æ•´ï¼ˆé›£æ˜“åº¦å€ç‡1.0ï¼‰:
- é€šå¸¸é–“éš”: 480ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ8ç§’ï¼‰ â† å¤‰åŒ–ãªã—
- ç·Šæ€¥é–“éš”: 180ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ3ç§’ï¼‰ â† å¤‰åŒ–ãªã—

ãƒ¬ãƒ™ãƒ«8ã§ã®èª¿æ•´ï¼ˆé›£æ˜“åº¦å€ç‡1.1ï¼‰:
- é€šå¸¸é–“éš”: 436ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ7.3ç§’ï¼‰ â† 10%çŸ­ç¸®
- ç·Šæ€¥é–“éš”: 164ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ2.7ç§’ï¼‰ â† 10%çŸ­ç¸®

ãƒ¬ãƒ™ãƒ«18ã§ã®èª¿æ•´ï¼ˆé›£æ˜“åº¦å€ç‡1.3ï¼‰:
- é€šå¸¸é–“éš”: 369ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ6.2ç§’ï¼‰ â† 30%çŸ­ç¸®
- ç·Šæ€¥é–“éš”: 138ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ2.3ç§’ï¼‰ â† 30%çŸ­ç¸®
```

#### ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆå€ç‡ 2.0 ã®å ´åˆï¼‰

```
åŸºæœ¬è¨­å®š:
- baseInterval: 480ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ8ç§’ï¼‰
- baseEmergencyInterval: 180ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ3ç§’ï¼‰

ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹å€ç‡2.0ã§ã®èª¿æ•´:
- é€šå¸¸é–“éš”: 240ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ4ç§’ï¼‰ â† 50%çŸ­ç¸®
- ç·Šæ€¥é–“éš”: 90ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ1.5ç§’ï¼‰ â† 50%çŸ­ç¸®

ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹å€ç‡3.0ã§ã®èª¿æ•´:
- é€šå¸¸é–“éš”: 160ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ2.7ç§’ï¼‰ â† 67%çŸ­ç¸®
- ç·Šæ€¥é–“éš”: 60ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ1ç§’ï¼‰ â† æœ€å°å€¤ã«åˆ°é”
```

### âš–ï¸ ãƒãƒ©ãƒ³ã‚¹èª¿æ•´

1. **æœ€å°æ•µæ•°**: ãƒ¬ãƒ™ãƒ«ã®æœ€å¤§æ•°ã® 40%ã‚’ä¸‹å›ã‚‹ã¨ç·Šæ€¥ã‚¹ãƒãƒ¼ãƒ³
2. **ç·Šæ€¥é–“éš”**: å‹•çš„èª¿æ•´ï¼ˆ1.5 ç§’ã€œ3 ç§’ï¼‰
3. **é€šå¸¸é–“éš”**: å‹•çš„èª¿æ•´ï¼ˆãƒ¬ãƒ™ãƒ«è¨­è¨ˆåŸºæº–ã‹ã‚‰æ®µéšçš„çŸ­ç¸®ï¼‰
4. **æœ€å¤§æ•°åˆ¶é™**: æ•µã‚¿ã‚¤ãƒ—åˆ¥ã®ä¸Šé™ã‚’ç¶­æŒ
5. **æœ€å°é–“éš”åˆ¶é™**:
   - é€šå¸¸ãƒ¬ãƒ™ãƒ«: ç·Šæ€¥ 1.5 ç§’ã€é€šå¸¸ 3 ç§’
   - ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹: ç·Šæ€¥ 1 ç§’ã€é€šå¸¸ 2 ç§’

### ğŸ® ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½“é¨“ã®å‘ä¸Š

#### æ®µéšçš„ãªé›£æ˜“åº¦ä¸Šæ˜‡

- **ãƒ¬ãƒ™ãƒ« 1-5**: åŸºæœ¬çš„ãªå­¦ç¿’æœŸé–“ï¼ˆé–“éš”å¤‰åŒ–ãªã—ï¼‰
- **ãƒ¬ãƒ™ãƒ« 6-10**: è»½å¾®ãªé›£æ˜“åº¦ä¸Šæ˜‡ï¼ˆ10%é«˜é€ŸåŒ–ï¼‰
- **ãƒ¬ãƒ™ãƒ« 11-15**: ä¸­ç¨‹åº¦ã®é›£æ˜“åº¦ä¸Šæ˜‡ï¼ˆ20%é«˜é€ŸåŒ–ï¼‰
- **ãƒ¬ãƒ™ãƒ« 16-20**: é«˜é›£æ˜“åº¦ï¼ˆ30%é«˜é€ŸåŒ–ï¼‰
- **ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹**: ç¶™ç¶šçš„ãªé›£æ˜“åº¦ä¸Šæ˜‡ï¼ˆ20%ãšã¤å¢—åŠ ï¼‰

#### é©å¿œçš„ãªæŒ‘æˆ¦

- **æ•µã‚’åŠ¹ç‡çš„ã«ç ´å£Š**: ç·Šæ€¥ã‚¹ãƒãƒ¼ãƒ³ã§é©åˆ‡ãªåœ§åŠ›ç¶­æŒ
- **ãƒ¬ãƒ™ãƒ«é€²è¡Œ**: è‡ªå‹•çš„ãªé›£æ˜“åº¦ä¸Šæ˜‡ã§é£½ãã‚’é˜²æ­¢
- **ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰**: ç„¡é™ã®æŒ‘æˆ¦ã¨æˆé•·æ©Ÿä¼š
